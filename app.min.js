var k;
(function(c){var f=function(){function h(b){this.hc={};this.Tb=this.ic=0;this.Ja=[];this.$=document.getElementById(b);this.uc=this.$.getContext("2d");this.dc=window.requestAnimationFrame.bind(window,this.Jc.bind(this))}h.prototype.sb=function(b,a){this.hc[b]=a};h.prototype.Play=function(b){if(this.Ma){for(var a=this.Ja.length-1;0<=a;--a){var d=this.Ja[a];this.Oc(d.element,d.type,d.listener)}this.Ja=[]}if(this.Ma=this.hc[b])this.Ma.g=this,this.Ma.h();else throw Error();};h.prototype.h=function(){this.dc()};h.prototype.va=
function(b,a,d){this.Ja.push({element:b,type:a,listener:d});b.addEventListener(a,d);console.log("Adding listener",b,a)};h.prototype.Oc=function(b,a,d){for(var e=0,g=this.Ja;e<g.length;e++){var l=g[e];if(l.element===b&&l.type===a&&l.listener===d){c.Hb(this.Ja,l);b.removeEventListener(a,d);console.log("Removing listener",b,a);return}}throw Error("Couldn't find event listener.");};h.prototype.Jc=function(b){var a=b-this.Tb;50<a&&(a=50);this.ic=a/1E3;this.Ma.s(this.ic);this.Ma.X(this.uc);this.Tb=b;this.dc()};
return h}();c.g=f})(k||(k={}));(function(c){var f=function(){function c(b,a){void 0===b&&(b=0);void 0===a&&(a=0);this.x=b;this.y=a}c.prototype.Set=function(b,a){this.x=b;this.y=a};c.prototype.Z=function(){return new c(this.x,this.y)};return c}();c.La=f})(k||(k={}));
(function(c){(function(f){function h(d,a){void 0===d&&(d=0);void 0===a&&(a=0);return new c.La(d,a)}function b(d,a){if(a)a.x=d.x,a.y=d.y;else return h(d.x,d.y)}function a(d){return Math.sqrt(d.x*d.x+d.y*d.y)}f.bd=new c.La;f.Wa=new c.La;f.j=h;f.Z=b;f.Dc=function(d){return 0===d.x&&0===d.y};f.Xa=function(d,a,g){g.x=d.x+a.x;g.y=d.y+a.y};f.Ka=function(d,a,g){g.x=d.x-a.x;g.y=d.y-a.y};f.Wb=function(a,e,g){g.x=a.x*e.x;g.y=a.y*e.y};f.f=function(a,e,g){void 0===g&&(g=a);g.x=a.x*e;g.y=a.y*e};f.zb=a;f.kc=function(d){var e;
void 0===e&&(e=d);var g=a(d);0<g&&(e.x=d.x/g,e.y=d.y/g)};f.fc=function(a,e,g){void 0===g&&(g=a);var l=Math.sin(e);e=Math.cos(e);a===g&&(a=b(a));g.x=a.x*e-a.y*l;g.y=a.x*l+a.y*e};f.Kb=function(a){return Math.atan2(a.y,a.x)};f.Bc=function(a,e){e.x=0<a.x?1/a.x:0;e.y=0<a.y?1/a.y:0}})(c.m||(c.m={}))})(k||(k={}));var m=this&&this.cd||function(c,f){function h(){this.constructor=c}for(var b in f)f.hasOwnProperty(b)&&(c[b]=f[b]);h.prototype=f.prototype;c.prototype=new h};
(function(c){var f=function(){function f(b,a,d,e){this.c=c.m.j(b,a);this.a=c.m.j(d,e);this.v=c.m.j(0,0);this.f=c.m.j(1,1);this.Ga=0;this.ja=1}f.prototype.X=function(b){b.save();b.globalAlpha*=this.ja;b.translate(this.c.x,this.c.y);b.scale(this.f.x,this.f.y);b.rotate(this.Ga);c.m.Dc(this.v)||b.translate(-this.v.x*this.a.x,-this.v.y*this.a.y);this.ra(b);b.restore()};f.prototype.ra=function(){throw Error("Unimplemented");};f.prototype.kb=function(b,a){var d,e=c.m.Wa;a?(c.m.Z(b,a),d=a):d=c.m.Z(b);this.Fa&&
this.Fa.kb(b,d);c.m.Ka(d,this.c,d);c.m.Z(this.f,e);c.m.Bc(e,e);c.m.Wb(d,e,d);c.m.fc(d,-this.Ga,d);c.m.Z(this.v,e);c.m.Wb(e,this.a,e);c.m.Xa(d,e,d);if(!a)return d};f.prototype.Sb=function(b){b=this.kb(b);var a=0<b.y&&b.y<this.a.y;return 0<b.x&&b.x<this.a.x&&a};f.prototype.bc=function(){this.Fa.Ta(this)};return f}();c.ub=f;f=function(c){function b(){c.apply(this,arguments);this.Za=[]}m(b,c);b.prototype.u=function(a){if(a.Fa)throw Error("Child has parent");a.Fa=this;this.Za.push(a)};b.prototype.Ta=function(a){var d=
this.Za.indexOf(a);if(0<=d)a.Fa=void 0,this.Za.splice(d,1);else throw Error("Child doesn't exist in this layer");};b.prototype.ra=function(a){for(var d=0,e=this.Za;d<e.length;d++)e[d].X(a)};return b}(f);c.yb=f})(k||(k={}));
(function(c){function f(a,d,e){var g=new c.La(e.layerX,e.layerY);a.call(d,g,e)}function h(a,d,e){var g=0,b=0;"touchend"!==e.type&&(g=e.targetTouches[0].pageX,b=e.targetTouches[0].pageY);a.call(d,c.m.j(g,b),e);e.preventDefault()}c.Bb=function(a,d){return f.bind(null,a,d)};c.Cb=function(a,d){return h.bind(null,a,d)};var b=function(){function a(){this.Yb=[]}a.prototype.Ib=function(a,b){this.Yb.push({object:a,action:b});return this};a.prototype.Ca=function(a){for(var b=0,g=this.Yb;b<g.length;b++){var l=
g[b],c=l.action;l.object.Sb(a)&&c()}};a.prototype.Qa=function(){};a.prototype.Ra=function(){};a.prototype.s=function(){};return a}();c.Pb=b})(k||(k={}));var n;
(function(c){var f=function(){function b(a,d){this.g=a;this.Ya=d;this.g.va(window,"resize",this.Da.bind(this))}b.prototype.Da=function(){var a=this.g.$.width=window.innerWidth,d=this.g.$.height=window.innerHeight;this.Ya(a,d)};return b}(),h=function(){function b(){this.aa=new k.La(320,350)}b.prototype.h=function(){this.K=new k.yb(0,0,this.g.$.width,this.g.$.height);this.ec=new f(this.g,this.Da.bind(this))};b.prototype.s=function(){};b.prototype.X=function(a){a.clearRect(0,0,a.canvas.width,a.canvas.height);
this.K.X(a)};b.prototype.Ca=function(a){this.ka&&this.ka.Ca(a)};b.prototype.Qa=function(a){this.ka&&this.ka.Qa(a)};b.prototype.Ra=function(a){this.ka&&this.ka.Ra(a)};b.prototype.Da=function(a,d){var b=Math.min(a/this.aa.x,d/(this.aa.y+20));this.K.a.Set(a/b,d/b);this.K.f.Set(b,b)};b.prototype.Ub=function(){this.g.va(this.g.$,"mousemove",k.Bb(this.Qa,this));this.g.va(this.g.$,"mousedown",k.Bb(this.Ca,this));this.g.va(this.g.$,"mouseup",k.Bb(this.Ra,this))};b.prototype.Vb=function(){this.g.va(this.g.$,
"touchmove",k.Cb(this.Qa,this));this.g.va(this.g.$,"touchstart",k.Cb(this.Ca,this));this.g.va(this.g.$,"touchend",k.Cb(this.Ra,this))};return b}();c.rb=h})(n||(n={}));var p,q=p||(p={});(q.ia||(q.ia={})).color={active:"white",pb:"#E74C3C",$c:"#3498DB",background:"#2C3E50"};(function(c){var f=function(c){function b(){c.apply(this,arguments)}m(b,c);b.prototype.h=function(){document.body.style.background=p.ia.color.background;this.g.Play("level-select")};return b}(c.rb);c.rc=f})(n||(n={}));var r;
(function(c){var f=function(){function c(b,a,d){void 0===d&&(d="white");this.na=b;this.a=a;this.ma=d;this.Lb={};this.ba=a/b.wa.wb;this.qa=b.wa.nb*this.ba;this.Cache=document.createElement("canvas");this.Cache.width=Object.keys(b.Ab).length*Math.ceil(this.qa+this.ba);this.Cache.height=a;console.log("FontCache Size",this.a,"DotPx",this.ba,"Color",this.ma);this.Pc()}c.prototype.Nb=function(b,a,d,e,g,l){void 0===d&&(d=0);void 0===e&&(e=0);void 0===g&&(g=1);void 0===l&&(l=g);b.drawImage(this.Cache,this.Lb[a],
0,this.qa,this.a,d,e,this.qa*g,this.a*l)};c.prototype.Pc=function(){var b=this.Cache.getContext("2d"),a=0;b.fillStyle=this.ma;for(var d in this.na.Ab){this.Qc(b,d);this.Lb[d]=a;var e=Math.ceil(this.qa+this.ba),a=a+e;b.translate(e,0)}};c.prototype.Qc=function(b,a){for(var d=this.na,e=this.ba,g=0;g<d.wa.nb;++g)for(var l=0;l<d.wa.wb;++l)d.Ab[a][l*d.wa.nb+g]&&b.fillRect(g*e,l*e,e,e)};return c}();c.xc=f})(r||(r={}));
(r||(r={})).Kc={wa:{nb:3,wb:5},Ab:{"+":[0,0,0,0,1,0,1,1,1,0,1,0,0,0,0],"-":[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],".":[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],":":[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],0:[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1],1:[0,1,0,1,1,0,0,1,0,0,1,0,0,1,0],2:[1,1,1,0,0,1,1,1,1,1,0,0,1,1,1],3:[1,1,1,0,0,1,0,1,1,0,0,1,1,1,1],4:[1,0,1,1,0,1,1,1,1,0,0,1,0,0,1],5:[1,1,1,1,0,0,1,1,1,0,0,1,1,1,0],6:[0,1,1,1,0,0,1,1,1,1,0,1,1,1,1],7:[1,1,1,0,0,1,0,1,0,0,1,0,0,1,0],8:[1,1,1,1,0,1,1,1,1,1,0,1,1,1,1],9:[1,1,1,1,0,1,1,
1,1,0,0,1,1,1,0],A:[0,1,0,1,0,1,1,1,1,1,0,1,1,0,1],B:[1,1,0,1,0,1,1,1,0,1,0,1,1,1,0],C:[1,1,1,1,0,0,1,0,0,1,0,0,1,1,1],D:[1,1,0,1,0,1,1,0,1,1,0,1,1,1,0],E:[1,1,1,1,0,0,1,1,0,1,0,0,1,1,1],F:[1,1,1,1,0,0,1,1,0,1,0,0,1,0,0],G:[1,1,1,1,0,0,1,0,1,1,0,1,1,1,1],H:[1,0,1,1,0,1,1,1,1,1,0,1,1,0,1],I:[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],L:[1,0,0,1,0,0,1,0,0,1,0,0,1,1,1],N:[0,0,1,1,0,1,1,1,1,1,0,1,1,0,0],M:[1,0,1,1,1,1,1,0,1,1,0,1,1,0,1],O:[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1],P:[1,1,1,1,0,1,1,1,1,1,0,0,1,0,0],R:[1,1,0,
1,0,1,1,1,0,1,0,1,1,0,1],S:[1,1,1,1,0,0,1,1,0,0,0,1,1,1,1],T:[1,1,1,0,1,0,0,1,0,0,1,0,0,1,0],U:[1,0,1,1,0,1,1,0,1,1,0,1,1,1,1],W:[1,0,1,1,0,1,1,0,1,1,1,1,1,0,1]},Cache:{}};
(function(c){var f=function(f){function b(a,d,b,g){void 0===b&&(b="");void 0===g&&(g={a:20,ma:"white",na:c.Kc});f.call(this,a,d,0,0);this.Text=b;this.J=g;this.Va(g.ma);this.fa(g.a)}m(b,f);b.prototype.Va=function(a){this.ab=this.J.na.Cache[a]?this.J.na.Cache[a]:this.J.na.Cache[a]=new c.xc(this.J.na,20,a)};b.prototype.hb=function(a){this.Text=a;this.mc()};b.prototype.fa=function(a){this.J.a=a;this.ba=a/this.J.na.wa.wb;this.qa=this.J.na.wa.nb*this.ba;this.mc()};b.prototype.ra=function(a){for(var d=this.J.a/
this.ab.a,b=0;b<this.Text.length;++b){var g=this.Text[b];" "!==g&&this.ab.Nb(a,g,0,0,d);a.translate(this.qa+this.ba,0)}};b.prototype.mc=function(){this.a.x=(this.qa+this.ba)*this.Text.length-this.ba;this.a.y=this.J.a};return b}(k.ub);c.Text=f;f=function(c){function b(){c.apply(this,arguments)}m(b,c);b.prototype.X=function(a){var d=this.J.a/this.ab.a,b=this.c,g=b.x,b=b.y,g=g-this.a.x*this.v.x*this.f.x,b=b-this.a.y*this.v.y*this.f.y,l=a.globalAlpha;a.globalAlpha*=this.ja;for(var c=0;c<this.Text.length;++c){var f=
this.Text[c];" "!==f&&this.ab.Nb(a,f,g,b,d*this.f.x,d*this.f.y);g+=(this.qa+this.ba)*this.f.x}a.globalAlpha=l};return b}(f);c.Y=f})(r||(r={}));
(function(c){var f=function(c){function b(a,d,b,g,l){void 0===l&&(l={fillStyle:"red"});c.call(this,a,d,b,g);this.J=l}m(b,c);b.prototype.ra=function(a){this.J.ob&&(a.globalCompositeOperation=this.J.ob);this.J.fillStyle&&(a.fillStyle=this.J.fillStyle,a.fillRect(0,0,this.a.x,this.a.y));this.J.strokeStyle&&(a.strokeStyle=this.J.strokeStyle,a.strokeRect(0,0,this.a.x,this.a.y))};return b}(k.ub);c.Sa=f})(r||(r={}));
(function(c){c.fb=function(c,h){if(h<c)throw Error();return c+Math.random()*(h-c)}})(k||(k={}));(function(c){c.Hb=function(c,h){var b=c.indexOf(h);if(0<=b)c.splice(b,1);else throw Error();}})(k||(k={}));
(function(c){var f=function(){function b(a,d,b,g){void 0===g&&(g=NaN);this.Ya=a;this.Mb=d;this.xa=b;this.Ac=g;this.Aa=this.ca=0}b.prototype.s=function(a){this.ca+=a;this.ca>this.xa&&(0===this.Aa&&(this.Ya.call(this.Mb,a),this.Aa+=1),this.ca-this.xa>this.Ac*this.Aa&&(this.Ya.call(this.Mb,a),this.Aa+=1))};return b}();c.ad=f;var h=function(){function b(){this.ha=[]}b.prototype.xa=function(a,d,b){var g=this,l;this.ha.push(l=new f(function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];
c.Hb(g.ha,l);d.apply(b,a)},b,a));return l};b.prototype.cc=function(a,d,b,g){void 0===g&&(g=0);this.ha.push(new f(d,b,g,a))};b.prototype.s=function(a){for(var d=0,b=this.ha;d<b.length;d++)b[d].s(a)};b.prototype.Nc=function(){this.ha=[]};return b}();c.Uc=h})(k||(k={}));
(function(c){var f=function(){function b(a,b){this.ib=a;this.ya=b;this.ca=0;this.lb=[];this.$a=0;this.ac=[];this.cb=!1}b.prototype.h=function(){var a=this.Qb();a.ya&&a.ya.Rc(a);if(a.cb)for(;a;)a.cb=!1,a.ca=0,a=a.w;return this};b.prototype.l=function(a,b,e){void 0===b&&(b=1);void 0===e&&(e=h.Gc);this.lb=[];for(var g in a)this.lb.push({key:g,start:0,nc:0,end:a[g]});this.$a=b;this.vc=e;return this};b.prototype.pa=function(a){this.Xb=a;return this};b.prototype.ga=function(a){void 0===a&&(a=this.ib);this.w=
a=new b(a,this.ya);a.da=this;return a};b.prototype.Gb=function(a,b){if(this.ya)this.ac.push({target:a,Zc:b});else throw Error();return this};b.prototype.xa=function(a){return this.ga().l({},a)};b.prototype.s=function(a){for(var b=this;b;)if(0===b.ca&&b.zc(),b.ca+=a,b.ca<=b.$a){b.lc(b.ca);break}else b.cb||(b.lc(b.$a),b.Xb&&b.Xb(b.ib),b.ya&&!b.w&&b.ya.Tc(b.Qb()),b.cb=!0),b=b.w};b.prototype.Qb=function(){for(var a=this;a.da;)a=a.da;return a};b.prototype.lc=function(a){for(var b=0,e=this.lb;b<e.length;b++){var g=
e[b];this.ib[g.key]=this.vc(a,g.start,g.nc,this.$a)}};b.prototype.zc=function(){for(var a=0,b=this.lb;a<b.length;a++){var e=b[a];e.start=this.ib[e.key];e.nc=e.end-e.start}a=0;for(b=this.ac;a<b.length;a++)e=b[a],e.Zc(this.ya.j(e.target).h())};return b}();c.Vc=f;var h;(function(b){b.Gc=function(a,b,e,g){return e*a/g+b};b.Ea=function(a,b,e,g){a/=g;a--;return e*(a*a*a+1)+b}})(h=c.za||(c.za={}));f=function(){function b(){this.o=[]}b.prototype.j=function(a){return new c.Vc(a,this)};b.prototype.Rc=function(a){this.o.push(a)};
b.prototype.Tc=function(a){c.Hb(this.o,a)};b.prototype.s=function(a){for(var b=0,e=this.o;b<e.length;b++)e[b].s(a)};return b}();c.jc=f})(k||(k={}));
(function(c){(function(f){var h=k.m,b=k.m.Wa,a=function(a){function e(){a.apply(this,arguments);this.mb=h.j(0,0);this.V=[];this.ma="red";this.i=1;this.Na=0;this.gb=.2}m(e,a);e.prototype.s=function(a){1<this.V.length&&(this.ma=1<this.b.eb?c.ia.color.$c:c.ia.color.active,this.sc());h.Z(this.mb,b);h.f(b,a);h.Xa(this.c,b,this.c)};e.prototype.ra=function(){throw Error("Unimplemented");};e.prototype.bb=function(){return 0<this.V.length};e.prototype.Jb=function(a){var d=this.V[this.V.length-1];if(d){if(h.Ka(a,
d,b),a=h.zb(b),20<a){h.kc(b);h.f(b,20);for(var e=h.Z(b);20<a;)h.Xa(d,e,b),this.V.push(d=h.Z(b)),a-=20}}else this.V.push(h.Z(a));this.ma=c.ia.color.active};e.prototype.sc=function(){h.Ka(this.V[0],this.c,b);5>h.zb(b)&&(this.V.shift(),this.Na=0,this.gb=.2,this.i+=this.b.eb);var a=h.Kb(b),d=h.Kb(this.mb),a=Math.atan2(Math.sin(a-d),Math.cos(a-d)),a=a*this.gb;this.Na+=a;h.fc(this.mb,a);Math.abs(this.Na)>2*Math.PI&&(this.gb*=2,this.Na=0)};return e}(k.ub);f.pc=a})(c.qb||(c.qb={}))})(p||(p={}));
(function(c){(function(c){var h=function(b){function a(a,e,g,c){b.call(this,a,e,g,c);this.la=new r.Text(0,0);this.la.v.Set(.5,.5);this.la.c.Set(g/2,c/2)}m(a,b);a.prototype.s=function(a){this.Ga+=1*Math.PI*a;b.prototype.s.call(this,a)};a.prototype.ra=function(a){a.globalCompositeOperation="xor";a.fillStyle=this.ma;a.fillRect(0,0,this.a.x,this.a.y);this.la.hb(this.i.toFixed(0));this.la.Ga=-this.Ga;this.la.X(a)};return a}(c.pc);c.Mc=h})(c.qb||(c.qb={}))})(p||(p={}));
(function(c){var f=k.m,h=function(a){function b(){a.apply(this,arguments)}m(b,a);b.prototype.X=function(b){var e=b.globalCompositeOperation;b.globalCompositeOperation="xor";a.prototype.X.call(this,b);b.globalCompositeOperation=e};return b}(r.Y),b=function(a){function b(){a.apply(this,arguments)}m(b,a);b.prototype.X=function(b){var e=b.globalCompositeOperation;b.globalCompositeOperation="destination-over";a.prototype.X.call(this,b);b.globalCompositeOperation=e};return b}(r.Y),a=function(a){function e(g,
e,c){void 0===c&&(c={Ia:3,oa:15});a.call(this,0,0,g,e);this.Ba=c;this.i=0;this.eb=1;this.jb=this.Ba.oa;this.Rb=!1;this.o=new k.jc;this.ha=new k.Uc;this.ha.cc(this.Ba.Ia,this.gc,this);this.ha.xa(this.Ba.oa,this.Fb,this);this.ha.cc(1,this.Yc,this,this.Ba.oa-5.5);this.ua=new b(g/2,g/3);this.ua.v.Set(.5,.5);this.ua.Va("#42566a");this.ua.fa(120)}m(e,a);e.prototype.s=function(a){this.jb-=a;this.o.s(a);this.ha.s(a);0<=this.jb&&(this.ua.hb(this.jb.toFixed(0)),this.Xc(a),this.Wc())};e.prototype.Xc=function(a){for(var b=
this.sa;b;b=b.w)if(b.b){b.s(a);if(b.bb())for(var d=b.w;d;d=d.w)d.bb()&&this.Cc(b,d)&&this.Hc(b,d);b.c.y<-b.a.y/2?this.Zb(b):b.c.x>this.a.x||0>b.c.x?this.Zb(b):b.c.y>this.a.y&&this.Ic(b)}};e.prototype.Wc=function(){for(var a=[],b=this.sa;b;b=b.w)b.bb()&&a.push(b);var d=4>a.length?1:a.length/2|0;if(0<d-this.eb)for(var e=0;e<a.length;e++)b=a[e],this.o.j(b.f).l({x:1.5,y:1.5},.2,k.za.Ea).ga().l({x:1,y:1},.2).h();this.eb=d};e.prototype.qc=function(a){this.Ha?(this.Ha.w=a,a.da=this.Ha,this.Ha=a):this.sa=
this.Ha=a;a.b=this};e.prototype.Ua=function(a){a.w?a.da?(a.da.w=a.w,a.w.da=a.da):(a.w.da=null,this.sa=a.w):a.da?(a.da.w=null,this.Ha=a.da):this.sa=this.Ha=null;a.b=void 0};e.prototype.yc=function(a){for(var b=this.sa;b;b=b.w)if(b.Sb(a))return b;return null};e.prototype.Ob=function(a){if(!(2>a.V.length)){var b=a.V[a.V.length-1],d=f.Wa;f.Ka(b,a.V[a.V.length-2],d);f.f(d,20);f.Xa(b,d,d);a.Jb(d)}};e.prototype.ra=function(b){b.strokeStyle=c.ia.color.active;b.setLineDash([3,9]);b.lineWidth=2;for(var e=this.sa;e;e=
e.w)if(e.bb()){b.beginPath();b.moveTo(e.c.x,e.c.y);for(var f=0,h=e.V;f<h.length;f++){var u=h[f];b.lineTo(u.x,u.y)}b.stroke()}a.prototype.ra.call(this,b);this.ua.X(b)};e.prototype.Cc=function(a,b){var d=f.Wa;f.Ka(a.c,b.c,d);return f.zb(d)<(a.a.x+b.a.x)/2};e.prototype.Zb=function(a){var b=Math.min(-a.i,-10);this.i+=b;a.c.y+=a.a.y/2;this.vb(a.c,b);this.Ua(a);this.Ta(a);this.gc()};e.prototype.Ic=function(a){this.i+=a.i;this.vb(a.c,a.i);this.Ua(a);this.Ta(a)};e.prototype.Hc=function(){for(var a=this,b=
[],d=0;d<arguments.length;d++)b[d-0]=arguments[d];b.forEach(function(b){a.Ua(b);a.o.j(b).l({ja:0},2).pa(function(){return b.bc()}).h()})};e.prototype.Fb=function(){var a=this;this.ha.Nc();this.$b&&this.$b();var b=this.o.j(null);b.h();for(var d=this.sa;d;d=d.w)if(1<d.i){var e=this.o.j(d.f).l({x:2,y:2},.3,k.za.Ea).ga(d).l({i:d.i/2|0},.5).pa(function(b){var d=Math.round(b.i);a.vb(b.c,d);a.i+=d}).ga(d.f).l({x:5,y:5},.35).Gb(d,function(a){return a.l({ja:0},.35)}).ga(d).pa(function(b){a.Ta(b);a.Ua(b)});
b.ga(e).pa(function(a){return a.h()});b=e}b.ga().pa(function(){for(var b=a.sa;b;b=b.w)if(1>=b.i&&b.b){var d=k.fb(0,.6);a.o.j(b.f).xa(d).ga().l({x:5,y:5},.35).Gb(b,function(a){return a.l({ja:0},.25)}).ga(b).pa(function(b){a.Ta(b);a.Ua(b)}).h()}a.Rb=!0})};e.prototype.gc=function(){var a=new c.qb.Mc(k.fb(15,this.a.x-15),this.a.y-5,30,30);a.ma=c.ia.color.pb;a.v.Set(.5,.5);a.ja=0;a.f.Set(.1,.1);var b=f.Wa;b.y=0;b.x=k.fb(15,this.a.x-15);f.Ka(a.c,b,b);f.kc(b);f.f(b,k.fb(-80,-60));f.Z(b,a.mb);this.o.j(a).l({ja:1},
.2).h();this.o.j(a.f).l({x:1,y:1},.2).h();this.qc(a);this.u(a)};e.prototype.vb=function(a,b){var d=new h(a.x,a.y,(0<b?"+":"")+b);d.v.Set(.5,.5);d.Va(0<b?c.ia.color.active:c.ia.color.pb);this.u(d);var e=0<b?2:1;this.o.j(d.f).l({x:e,y:e},.5,k.za.Ea).xa(.3).ga(d).l({ja:0},.3).pa(function(){d.bc()}).h();if(0>a.x||a.x>this.a.x){var f=0<a.x?1:-1;this.o.j(d.c).l({x:a.x-f*d.a.x*e},.2).h()}else f=0<a.y?1:-1,this.o.j(d.c).l({y:a.y-f*d.a.y*e},.2).h()};e.prototype.Yc=function(){this.ua.Va(c.ia.color.pb);this.ua.ja=
.5;this.o.j(this.ua.f).l({x:2,y:2},.01).ga().l({x:1,y:1},.4).h()};return e}(k.yb);c.b=a})(p||(p={}));(function(c){(function(c){c.tc=function(c){return Math.max(Math.min(c,50),20)}})(c.oc||(c.oc={}))})(k||(k={}));
(function(c){var f=function(b){function a(a){void 0===a&&(a={Ia:3,oa:15});b.call(this);this.Ba=a;this.xb=0}m(a,b);a.prototype.h=function(){b.prototype.h.call(this);this.xb+=1;this.b=new p.b(this.aa.x,this.aa.y,this.Ba);this.b.$b=this.Fb.bind(this);this.K.u(this.b);this.ka=new h(this);this.Ub();this.Vb();this.K.u(this.tb=new r.Sa(0,this.b.a.y,this.b.a.x,20,{fillStyle:"rgba(0, 0, 0, 0.5)"}));this.la=new r.Y(5.5,this.b.a.y+5.5);this.la.fa(10);this.K.u(this.la);this.Pa=new r.Y(this.b.a.x-5.5,this.b.a.y+
5.5);this.Pa.v.Set(1,0);this.Pa.fa(10);this.K.u(this.Pa);this.ec.Da()};a.prototype.s=function(a){this.b.s(a);this.ka.s();this.Pa.hb("FPS "+this.xb+" "+(1E3*a).toFixed(1));this.la.hb("SCORE: "+this.b.i)};a.prototype.X=function(a){a.clearRect(0,0,a.canvas.width,a.canvas.height);this.K.X(a)};a.prototype.Fb=function(){var a=this,b=new r.Text(this.b.a.x/2,this.b.a.y/3+50,"RESTART");b.fa(40);b.v.Set(.5,.5);var c=new r.Sa(b.c.x,b.c.y,b.a.x+20,b.a.y+10,{fillStyle:"white",ob:"xor"});c.v.Set(.5,.5);var f=new r.Y(this.b.a.x/
2,this.b.a.y/2+50,"MENU");f.v.Set(.5,.5);this.K.u(b);this.K.u(c);this.K.u(f);this.ka=(new k.Pb).Ib(b,function(){return a.g.Play("game")}).Ib(f,function(){return a.g.Play("level-select")})};a.prototype.Da=function(a,b){var c=Math.min(a/this.aa.x,b/(this.aa.y+20));this.K.a.Set(a/c,b/c);this.K.f.Set(c,c);this.tb.a.y=k.oc.tc(b-this.aa.y*c);this.b.a.y=b/c-this.tb.a.y;this.tb.c.Set(0,this.b.a.y);this.la.c.Set(5.5,this.b.a.y+5.5);this.Pa.c.Set(this.b.a.x-5.5,this.b.a.y+5.5)};return a}(c.rb);c.Lc=f;var h=
function(){function b(a){this.ta=a;this.Oa=new k.La}b.prototype.Ca=function(a){k.m.Z(a,this.Oa);!this.ta.b.Rb&&(a=this.ta.b.yc(this.Oa))&&(a.V=[],this.ea=a)};b.prototype.Ra=function(){this.ea&&(this.ta.b.Ob(this.ea),this.ea=void 0)};b.prototype.Qa=function(a){k.m.Z(a,this.Oa);this.ea||this.Ca(a);a=this.ta.b.kb(this.Oa);this.ea&&(0>a.y||a.y>this.ta.b.a.y||0>a.x||a.x>this.ta.b.a.y)&&(this.ta.b.Ob(this.ea),this.ea=void 0)};b.prototype.s=function(){this.ea&&(this.ea.Fa?this.ea.Jb(this.ta.b.kb(this.Oa)):
this.ea=void 0)};return b}()})(n||(n={}));
(function(c){var f=function(b){function a(){b.apply(this,arguments);this.Fc=[{Ia:4,oa:5,Eb:50,Db:200,i:50},{Ia:3,oa:15,Eb:50,Db:200,i:20},{Ia:3,oa:30,Eb:50,Db:200,i:40},{Ia:3,oa:60,Eb:50,Db:200,i:1120}]}m(a,b);a.prototype.h=function(){var a=this;b.prototype.h.call(this);this.ka=new k.Pb;this.Ub();this.Vb();this.o=new k.jc;var e=new r.Y(this.aa.x/2,10,"CHALANGE");e.v.Set(.5,0);e.fa(10);this.K.u(e);e=new r.Y(this.aa.x/2,30,"PRECISION");e.v.Set(.5,0);this.K.u(e);var g=[];this.Fc.forEach(function(b,e){var f=
new h(e,b);f.c.Set(e&1?a.aa.x+f.a.x:-f.a.x,120+70*e);f.v.Set(.5,.5);a.K.u(f);g.push(f);a.o.j(f.c).l({x:a.aa.x/2},1,k.za.Ea).pa(function(){return f.Sc(a.o)}).h();a.ka.Ib(f,function(){a.o.j(f.f).l({x:1.1,y:1.1},1,k.za.Ea).pa(function(){a.g.sb("game",new c.Lc(b));a.g.Play("game")}).h();for(var e=0;e<g.length;e++){var h=g[e];h!==f&&a.o.j(h.f).l({x:0,y:0},.8).Gb(h,function(a){return a.l({ja:0},.6)}).h()}})});this.ec.Da()};a.prototype.s=function(a){this.o.s(a)};return a}(c.rb);c.Ec=f;var h=function(b){function a(a,
e){b.call(this,0,0,250,40);var c=new r.Y(0,0,a.toString());c.fa(40);c.Va(p.ia.color.pb);this.u(c);c=new r.Y(50,0,"HI-SCORE: "+e.i);c.fa(10);this.u(c);c=new r.Y(251,0,"TIME: "+e.oa);c.fa(10);c.v.Set(1,0);this.u(c);c=new r.Y(55,25,"BAD");c.fa(10);this.u(c);c=new r.Y(245,25,"AWESOME");c.fa(10);c.v.Set(1,0);this.u(c);c=new r.Sa(50.5,20.5,200,20,{strokeStyle:"white"});this.u(c);c=new r.Sa(51.5,21.5,198,18,{fillStyle:"white",ob:"xor"});c.f.Set(0,1);this.u(this.wc=c);c=new r.Sa(125,20,270,60,{fillStyle:"rgba(0, 0, 0, 0.5)",
ob:"destination-over"});c.v.Set(.5,.5);this.u(c)}m(a,b);a.prototype.Sc=function(a){a.j(this.wc.f).l({x:Math.random()},2,k.za.Ea).h()};return a}(k.yb)})(n||(n={}));var t=new k.g("canvas");t.sb("boot",new n.rc);t.sb("level-select",new n.Ec);t.Play("boot");t.h();
