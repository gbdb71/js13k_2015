var h;
(function(e){var g=function(){function d(c){this.dd={};this.Oc=this.gd=0;this.qb=[];this.oa=document.getElementById(c);this.yd=this.oa.getContext("2d");this.Zc=window.requestAnimationFrame.bind(window,this.Zd.bind(this))}d.prototype.jb=function(c,b){this.dd[c]=b};d.prototype.Play=function(c){this.Za&&this.xd();if(this.Za=this.dd[c])this.Za.l=this,this.Za.i();else throw Error();};d.prototype.i=function(){this.Zc()};d.prototype.$a=function(c,b,a){this.qb.push({element:c,type:b,listener:a});c.addEventListener(b,a)};
d.prototype.de=function(c,b,a){for(var f=0,q=this.qb;f<q.length;f++){var k=q[f];if(k.element===c&&k.type===b&&k.listener===a){e.Xc(this.qb,k);c.removeEventListener(b,a);return}}throw Error("Couldn't find event listener.");};d.prototype.xd=function(){for(var c=this.qb.length-1;0<=c;--c){var b=this.qb[c];this.de(b.element,b.type,b.listener)}this.qb=[];this.Za.Ad&&this.Za.Ad()};d.prototype.Zd=function(c){var b=c-this.Oc;50<b&&(b=50);this.gd=b/1E3;this.Za.m(this.gd);this.Za.Fa(this.yd);this.Oc=c;this.Zc()};
return d}();e.l=g})(h||(h={}));(function(e){var g=function(){function d(c,b){void 0===c&&(c=0);void 0===b&&(b=0);this.x=c;this.y=b}d.prototype.Set=function(c,b){this.x=c;this.y=b};d.prototype.ca=function(c){return c?(c.x=this.x,c.y=this.y,c):new d(this.x,this.y)};return d}();e.hb=g})(h||(h={}));
(function(e){(function(g){function d(a,f){void 0===a&&(a=0);void 0===f&&(f=0);return new e.hb(a,f)}function c(a,f){if(f)f.x=a.x,f.y=a.y;else return d(a.x,a.y)}function b(a){return Math.sqrt(a.x*a.x+a.y*a.y)}g.Be=new e.hb;g.Ya=new e.hb;g.u=d;g.ca=c;g.Ld=function(a){return 0===a.x&&0===a.y};g.ra=function(a,f,b){b.x=a.x+f.x;b.y=a.y+f.y};g.Xa=function(a,f,b){b.x=a.x-f.x;b.y=a.y-f.y};g.Qc=function(a,f,b){b.x=a.x*f.x;b.y=a.y*f.y};g.j=function(a,f,b){void 0===b&&(b=a);b.x=a.x*f;b.y=a.y*f};g.yb=b;g.Sb=function(a){var f;
void 0===f&&(f=a);var c=b(a);0<c&&(f.x=a.x/c,f.y=a.y/c)};g.ie=function(a,f,b){void 0===b&&(b=a);var k=Math.sin(f);f=Math.cos(f);a===b&&(a=c(a));b.x=a.x*f-a.y*k;b.y=a.x*k+a.y*f};g.ye=function(a){return Math.atan2(a.y,a.x)};g.Id=function(a,f){f.x=0<a.x?1/a.x:0;f.y=0<a.y?1/a.y:0};g.ze=function(a,f){return a.x*f.x+a.y*f.y}})(e.w||(e.w={}))})(h||(h={}));
var l=this&&this.Ce||function(e,g){function d(){this.constructor=e}for(var c in g)g.hasOwnProperty(c)&&(e[c]=g[c]);d.prototype=g.prototype;e.prototype=new d};
(function(e){var g=function(){function d(c,b,a,f){this.b=e.w.u(c,b);this.a=e.w.u(a,f);this.h=e.w.u(0,0);this.j=e.w.u(1,1);this.Ja=0;this.ma=1;this.Oa=!0}d.prototype.Fa=function(c){this.Oa&&(c.save(),c.globalAlpha*=this.ma,c.translate(this.b.x,this.b.y),c.scale(this.j.x,this.j.y),c.rotate(this.Ja),e.w.Ld(this.h)||c.translate(-this.h.x*this.a.x,-this.h.y*this.a.y),this.Ma?this.Bd(c):this.Ga(c),c.restore())};d.prototype.Ga=function(){throw Error("Unimplemented");};d.prototype.Bd=function(c){c.drawImage(this.Ma,
0,0)};d.prototype.wc=function(c,b){var a,f=e.w.Ya;b?(e.w.ca(c,b),a=b):a=e.w.ca(c);this.Va&&this.Va.wc(c,a);e.w.Xa(a,this.b,a);e.w.ca(this.j,f);e.w.Id(f,f);e.w.Qc(a,f,a);e.w.ie(a,-this.Ja,a);e.w.ca(this.h,f);e.w.Qc(f,this.a,f);e.w.ra(a,f,a);if(!b)return a};d.prototype.Mb=function(c){c=this.wc(c);var b=0<c.y&&c.y<this.a.y;return 0<c.x&&c.x<this.a.x&&b};d.prototype.Wa=function(){this.Va.Cb(this)};d.prototype.Cache=function(c){this.Ma=document.createElement("canvas");this.Ma.width=this.a.x;this.Ma.height=
this.a.y;var b=this.Ma.getContext("2d");c&&c(b);this.Ga(b)};return d}();e.ac=g;g=function(d){function c(b,a,f,c){void 0===b&&(b=0);void 0===a&&(a=0);void 0===f&&(f=0);void 0===c&&(c=0);d.call(this,b,a,f,c);this.sb=[]}l(c,d);c.prototype.g=function(){for(var b=[],a=0;a<arguments.length;a++)b[a-0]=arguments[a];for(a=0;a<b.length;a++){var f=b[a];if(f.Va)throw Error("Child has parent");f.Va=this;this.sb.push(f)}};c.prototype.Cb=function(b){var a=this.sb.indexOf(b);if(0<=a)b.Va=void 0,this.sb.splice(a,
1);else throw Error("Child doesn't exist in this layer");};c.prototype.Ga=function(b){for(var a=0,f=this.sb;a<f.length;a++)f[a].Fa(b)};return c}(g);e.Ha=g})(h||(h={}));
(function(e){function g(a,f,b){var c=b.pageX,d=b.pageY,g=b.target.getBoundingClientRect(),c=new e.hb(c-g.left,d-g.top);a.call(f,c,b)}function d(a,f,b){var k=0,d=0;if("touchend"!==b.type){var k=b.targetTouches[0].pageX,d=b.targetTouches[0].pageY,e=b.target.getBoundingClientRect();c.Set(k-e.left,d-e.top)}a.call(f,c.ca(),b);b.preventDefault()}var c=new e.hb;e.kc=function(a,f){return g.bind(null,a,f)};e.lc=function(a,f){return d.bind(null,a,f)};var b=function(){function a(){this.nc=[];this.qc=[]}a.prototype.we=
function(a,b){this.nc.push({object:a,action:b});return this};a.prototype.xe=function(a,b){this.qc.push({object:a,action:b})};a.prototype.Ca=function(a,b){var c=0;this.nc.push({object:a,action:function(){return c=Date.now()}});this.qc.push({object:a,action:function(){450>Date.now()-c&&b()}});return this};a.prototype.eb=function(a){this.Mc(this.nc,a)};a.prototype.Ab=function(){};a.prototype.nb=function(a){this.Mc(this.qc,a)};a.prototype.Mc=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.action;
d.object.Mb(b)&&e()}};a.prototype.m=function(){};return a}();e.wb=b})(h||(h={}));var m;
(function(e){var g=function(){function d(){this.vb=new h.hb(320,440)}d.prototype.i=function(){var c=this;this.c=new h.Ha(0,0,320,370);this.o=new h.kd;this.ba=new h.hd;this.kb=new h.kb(120);this.l.$a(window,"resize",function(){return c.ya()})};d.prototype.m=function(c){this.ba.m(c);this.o.m(c)};d.prototype.Fa=function(c){c.clearRect(0,0,c.canvas.width,c.canvas.height);this.c.Fa(c)};d.prototype.eb=function(c){this.fa.eb(c)};d.prototype.Ab=function(c){this.fa.Ab(c)};d.prototype.nb=function(c){this.fa.nb(c)};
d.prototype.ya=function(){var c=window.innerWidth,b=window.innerHeight;this.vb.x=h.Vb.$b(c,320,480);c=Math.min(c/this.vb.x,b/this.vb.y);this.c.j.Set(c,c);this.c.a.Set(this.vb.x,b/c);b=Math.floor(this.c.a.x*c);this.l.oa.width!==b&&(this.l.oa.width=b);b=Math.floor(this.c.a.y*c);this.l.oa.height!==b&&(this.l.oa.height=b)};d.prototype.ic=function(){if(!this.fa)throw Error();this.l.$a(this.l.oa,"mousemove",h.kc(this.Ab,this));this.l.$a(this.l.oa,"mousedown",h.kc(this.eb,this));this.l.$a(this.l.oa,"mouseup",
h.kc(this.nb,this))};d.prototype.jc=function(){if(!this.fa)throw Error();this.l.$a(this.l.oa,"touchmove",h.lc(this.Ab,this));this.l.$a(this.l.oa,"touchstart",h.lc(this.eb,this));this.l.$a(this.l.oa,"touchend",h.lc(this.nb,this))};return d}();e.Hb=g})(m||(m={}));var n,p=n||(n={}),r=p.ka||(p.ka={});r.yc={De:{active:"#68C3F7",Gb:"#f89880",Wb:"#75f89e",background:"#ffffff"},rd:{active:"#88A825",Gb:"#911146",Wb:"#ED8C2B",background:"#35203B"},blue:{active:"#ffffff",Gb:"#E74C3C",Wb:"#3498DB",background:"#2C3E50"}};
r.color=r.yc.rd;var u;
(function(e){var g=function(){function d(c,b,a){void 0===a&&(a="white");this.Na=c;this.a=b;this.va=a;this.Ac={};this.wa=b/c.cb.ec;this.Ta=c.cb.Tb*this.wa;this.Cache=document.createElement("canvas");this.Cache.width=Object.keys(c.gc).length*Math.ceil(this.Ta+this.wa);this.Cache.height=b;console.log("FontCache Size",this.a,"DotPx",this.wa,"Color",this.va);this.ee()}d.prototype.Gc=function(c,b,a,f,q,k){void 0===a&&(a=0);void 0===f&&(f=0);void 0===q&&(q=1);void 0===k&&(k=q);c.drawImage(this.Cache,this.Ac[b],
0,this.Ta,this.a,a,f,this.Ta*q,this.a*k)};d.prototype.ee=function(){var c=this.Cache.getContext("2d"),b=0;c.fillStyle=this.va;for(var a in this.Na.gc){this.fe(c,a);this.Ac[a]=b;var f=Math.ceil(this.Ta+this.wa),b=b+f;c.translate(f,0)}};d.prototype.fe=function(c,b){for(var a=this.Na,f=this.wa,q=0;q<a.cb.Tb;++q)for(var k=0;k<a.cb.ec;++k)a.gc[b][k*a.cb.Tb+q]&&c.fillRect(q*f,k*f,f,f)};return d}();e.Dd=g})(u||(u={}));
(u||(u={})).$d={cb:{Tb:3,ec:5},gc:{"+":[0,0,0,0,1,0,1,1,1,0,1,0,0,0,0],"-":[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],".":[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],",":[0,0,0,0,0,0,0,0,0,0,1,0,1,0,0],":":[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],"?":[1,1,0,0,0,1,0,1,1,0,0,0,0,1,0],"\u2665":[1,0,1,1,1,1,1,1,1,0,1,0,0,0,0],0:[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1],1:[0,1,0,1,1,0,0,1,0,0,1,0,0,1,0],2:[1,1,1,0,0,1,1,1,1,1,0,0,1,1,1],3:[1,1,1,0,0,1,0,1,1,0,0,1,1,1,1],4:[1,0,1,1,0,1,1,1,1,0,0,1,0,0,1],5:[1,1,1,1,0,0,1,1,1,0,0,1,1,1,0],6:[0,
1,1,1,0,0,1,1,1,1,0,1,1,1,1],7:[1,1,1,0,0,1,0,1,0,0,1,0,0,1,0],8:[1,1,1,1,0,1,1,1,1,1,0,1,1,1,1],9:[1,1,1,1,0,1,1,1,1,0,0,1,1,1,0],A:[0,1,0,1,0,1,1,1,1,1,0,1,1,0,1],B:[1,1,0,1,0,1,1,1,0,1,0,1,1,1,0],C:[1,1,1,1,0,0,1,0,0,1,0,0,1,1,1],D:[1,1,0,1,0,1,1,0,1,1,0,1,1,1,0],E:[1,1,1,1,0,0,1,1,0,1,0,0,1,1,1],F:[1,1,1,1,0,0,1,1,0,1,0,0,1,0,0],G:[1,1,1,1,0,0,1,0,1,1,0,1,1,1,1],H:[1,0,1,1,0,1,1,1,1,1,0,1,1,0,1],I:[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],J:[1,1,1,0,1,0,0,1,0,0,1,0,1,0,0],K:[1,0,1,1,0,1,1,1,0,1,0,1,1,0,
1],L:[1,0,0,1,0,0,1,0,0,1,0,0,1,1,1],N:[0,0,1,1,0,1,1,1,1,1,0,1,1,0,0],M:[1,0,1,1,1,1,1,0,1,1,0,1,1,0,1],O:[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1],P:[1,1,1,1,0,1,1,1,1,1,0,0,1,0,0],Q:[1,1,1,1,0,1,1,0,1,1,1,0,0,0,1],R:[1,1,0,1,0,1,1,1,0,1,0,1,1,0,1],S:[1,1,1,1,0,0,1,1,0,0,0,1,1,1,1],T:[1,1,1,0,1,0,0,1,0,0,1,0,0,1,0],U:[1,0,1,1,0,1,1,0,1,1,0,1,1,1,1],W:[1,0,1,1,0,1,1,0,1,1,1,1,1,0,1],V:[1,0,1,1,0,1,1,0,1,1,0,1,0,1,0],X:[1,0,1,1,0,1,0,1,0,1,0,1,1,0,1],Y:[1,0,1,1,0,1,1,0,1,0,1,0,0,1,0]},Cache:{}};
(function(e){var g=function(d){function c(b,a,f,c){void 0===f&&(f="");void 0===c&&(c={a:20,va:"white",Na:e.$d});d.call(this,b,a,0,0);this.Text=f;this.ia=c;this.fb(c.va);this.ea(c.a)}l(c,d);c.prototype.fb=function(b){this.Lb=this.ia.Na.Cache[b]?this.ia.Na.Cache[b]:this.ia.Na.Cache[b]=new e.Dd(this.ia.Na,20,b)};c.prototype.Qa=function(b){this.Text=b;this.pd()};c.prototype.ea=function(b){this.ia.a=b;this.wa=b/this.ia.Na.cb.ec;this.Ta=this.ia.Na.cb.Tb*this.wa;this.pd()};c.prototype.Ga=function(b){for(var a=
this.ia.a/this.Lb.a,f=0;f<this.Text.length;++f){var c=this.Text[f];" "!==c&&this.Lb.Gc(b,c,0,0,a);b.translate(this.Ta+this.wa,0)}};c.prototype.pd=function(){this.a.x=(this.Ta+this.wa)*this.Text.length-this.wa;this.a.y=this.ia.a};return c}(h.ac);e.Text=g;g=function(d){function c(){d.apply(this,arguments)}l(c,d);c.prototype.Fa=function(b){if(this.Oa){var a=this.ia.a/this.Lb.a,f=this.b,c=f.x,f=f.y,c=c-this.a.x*this.h.x*this.j.x,f=f-this.a.y*this.h.y*this.j.y,k=b.globalAlpha;b.globalAlpha*=this.ma;for(var d=
0;d<this.Text.length;++d){var e=this.Text[d];" "!==e&&this.Lb.Gc(b,e,c,f,a*this.j.x,a*this.j.y);c+=(this.Ta+this.wa)*this.j.x}b.globalAlpha=k}};c.prototype.Cache=function(){throw Error("Use gfx.Text if you want cache");};return c}(g);e.Z=g})(u||(u={}));
(function(e){e.Xc=function(d,c){var b=d.indexOf(c);if(0<=b)d.splice(b,1);else throw Error();};e.pe=function(d,c){var b=d.indexOf(c);0<=b&&d.splice(b,1)};e.Md=function(d){return d[d.length-1]};e.Ib=function(d,c){var b=d.substr(1).match(/.{2}/g).map(function(a){return parseInt(a,16)}),b=b.map(function(a){return Math.min(a*c,255)|0});return"#"+((b[0]<<16)+(b[1]<<8)+b[2]+16777216).toString(16).substr(1)};var g=function(){function d(c){void 0===c&&(c=60);this.tc=c;this.be=0;this.uc=Array(c);for(var b=
0;b<c;++b)this.uc[b]=0}d.prototype.m=function(c){this.uc[this.be++%this.tc]=c};d.prototype.Kc=function(){return 1/this.Ed()};d.prototype.Ed=function(){for(var c=0,b=0;b<this.tc;++b)c+=this.uc[b];return c/this.tc};return d}();e.kb=g;g=function(){function d(){this.Dc=[]}d.prototype.ra=function(c,b){this.Dc.push([c,b]);return this};d.prototype.vd=function(){for(var c=0,b=this.Dc;c<b.length;c++){var a=b[c];a[0].call(a[1])}};return d}();e.wd=g})(h||(h={}));
(function(e){var g=function(){function c(b,a){this.Db=b;this.Ia=a;this.xa=0;this.Rb=[];this.Jb=0;this.oc=new e.wd;this.sc=this.fc=!1}c.prototype.i=function(){var b=this.dc();b.Ia&&(b.IsPlaying()&&b.Ia.fd(b),b.Ia.me(b));for(;b;)b.fc=!1,b.xa=0,b=b.aa;return this};c.prototype.s=function(b,a,f){void 0===a&&(a=1);void 0===f&&(f=d.Od);this.Rb=[];for(var c in b)this.Rb.push({key:c,start:0,qd:0,end:b[c]});this.Jb=a;this.Cd=f;return this};c.prototype.Ba=function(b){this.Rc=b;return this};c.prototype.na=function(b){void 0===
b&&(b=this.Db);this.aa=b=new c(b,this.Ia);b.ua=this;return b};c.prototype.rc=function(b,a){this.oc.ra(function(){if(this.Ia)a(this.Ia.u(b).i());else throw Error();},this);return this};c.prototype.pa=function(b){return this.na().s({},b)};c.prototype.ge=function(){for(var b=this;b;b=b.ua)b.sc=!b.sc;return this};c.prototype.Pd=function(){var b=this;this.oc.ra(function(){setTimeout(b.i.bind(b),0)});return this};c.prototype.m=function(b){for(var a=this;a;)if(0===a.xa&&a.Gd(),a.xa+=b,a.xa<=a.Jb){a.md(a.xa);
break}else a.fc||(a.md(a.Jb),a.Rc&&a.Rc(a.Db),a.Ia&&!a.aa&&a.Ia.fd(a.dc()),a.fc=!0),a=a.aa};c.prototype.dc=function(){for(var b=this;b.ua;)b=b.ua;return b};c.prototype.IsPlaying=function(){if(this.Ia)return 0<=this.Ia.o.indexOf(this.dc());throw Error();};c.prototype.md=function(b){for(var a=0,f=this.Rb;a<f.length;a++){var c=f[a];this.Db[c.key]=this.Cd(b,c.start,c.qd,this.Jb)}};c.prototype.Gd=function(){for(var b=0,a=this.Rb;b<a.length;b++){var f=a[b];if(this.sc){var c=f.start||this.Db[f.key];f.start=
f.end;f.end=c}else f.start=this.Db[f.key];f.qd=f.end-f.start}this.oc.vd()};return c}();e.se=g;var d;(function(c){c.Od=function(b,a,f,c){return f*b/c+a};c.Ua=function(b,a,f,c){b/=c;b--;return f*(b*b*b+1)+a};c.cd=function(b,a,f,c){return-f/2*(Math.cos(Math.PI*b/c)-1)+a}})(d=e.Da||(e.Da={}));g=function(){function c(){this.o=[]}c.prototype.u=function(b){return new e.se(b,this)};c.prototype.me=function(b){this.o.push(b)};c.prototype.fd=function(b){e.Xc(this.o,b)};c.prototype.m=function(b){for(var a=0,
f=this.o;a<f.length;a++)f[a].m(b)};return c}();e.kd=g})(h||(h={}));
(function(e){var g=function(d){function c(){d.apply(this,arguments)}l(c,d);c.prototype.i=function(){var b=this;d.prototype.i.call(this);this.l.oa.style.background="black";this.ta=new h.Ha;this.ta.j.Set(.5,.5);var a=new u.Z(0,0,"A GAME BY KAKUS");a.h.Set(.5,.5);var f=new h.Ha(0,a.a.y+10),c=new u.Z(0,0,"MADE WITH "),k=new u.Z(c.a.x,0,"\u2665");k.fb("red");var e=new u.Z(k.b.x+k.a.x,0," FOR JS13K");f.h.Set(.5,.5);f.a.Set(e.b.x+e.a.x,e.a.y);f.g(c,k,e);c=new u.Z(0,f.b.y+300,"2015");c.h.Set(.5,.5);this.ta.g(a);
this.ta.g(f);this.ta.g(c);this.c.ma=0;this.o.u(this.c).s({ma:1}).na().pa(1).na().s({ma:0}).Ba(function(){return b.l.Play("menu")}).i();this.c.g(this.ta);this.ya()};c.prototype.ya=function(){d.prototype.ya.call(this);this.ta.b.Set(this.c.a.x/2,this.c.a.y/3)};return c}(e.Hb);e.le=g})(m||(m={}));
(function(e){var g=function(d){function c(b,a,f,c,k){void 0===k&&(k={fillStyle:"red"});d.call(this,b,a,f,c);this.ia=k}l(c,d);c.prototype.Ga=function(b){this.ia.Ub&&(b.globalCompositeOperation=this.ia.Ub);this.ia.fillStyle&&(b.fillStyle=this.ia.fillStyle,b.fillRect(0,0,this.a.x,this.a.y));this.ia.strokeStyle&&(b.strokeStyle=this.ia.strokeStyle,b.strokeRect(0,0,this.a.x,this.a.y))};return c}(h.ac);e.Pa=g})(u||(u={}));
(function(e){e.Bb=function(e,d){if(d<e)throw Error();return e+Math.random()*(d-e)}})(h||(h={}));
(function(e){var g=function(){function c(b,a,f,c,k){void 0===c&&(c=NaN);void 0===k&&(k=0);this.Cc=b;this.Ec=a;this.pa=f;this.Hd=c;this.Bc=k;this.bb=this.xa=0}c.prototype.m=function(b){this.xa+=b;this.xa>this.pa&&!(0<this.Bc&&this.bb>this.Bc-1)&&(0===this.bb&&(this.Cc.call(this.Ec,b),this.bb+=1),this.xa-this.pa>this.Hd*this.bb&&(this.Cc.call(this.Ec,b),this.bb+=1))};return c}();e.Ae=g;var d=function(){function c(){this.ba=[]}c.prototype.pa=function(b,a,f){var c=this,k;this.ba.push(k=new g(function(){for(var b=
[],d=0;d<arguments.length;d++)b[d-0]=arguments[d];e.pe(c.ba,k);a.apply(f,b)},f,b));return k};c.prototype.Yc=function(b,a,f,c,k){void 0===k&&(k=0);this.ba.push(new g(a,f,k,b,c))};c.prototype.m=function(b){for(var a=0,f=this.ba;a<f.length;a++)f[a].m(b)};c.prototype.Wc=function(){this.ba=[]};return c}();e.hd=d})(h||(h={}));
(function(e){(function(g){var d=h.w,c=h.w.Ya,b=function(a){function b(){a.apply(this,arguments);this.qa=d.u(0,0);this.ja=[];this.va="red";this.v=1}l(b,a);b.prototype.m=function(a){this.xb()?(this.va=1<this.f.Nb?e.ka.color.Wb:e.ka.color.active,this.ue(a)):(d.ca(this.qa,c),d.j(c,a),d.ra(this.b,c,this.b))};b.prototype.Ga=function(){throw Error("Unimplemented");};b.prototype.xb=function(){return 1<this.ja.length};b.prototype.Sa=function(a){if(!(100<this.ja.length)){var b=h.Md(this.ja),f=2>this.ja.length;
if(b){if(d.Xa(a,b,c),a=d.yb(c),20<a){d.Sb(c);d.j(c,20);for(var e=d.ca(c);20<a;)d.ra(b,e,c),this.ja.push(b=d.ca(c)),a-=20;if(f){f=this.ja;b=f[0];f=f[1];d.Xa(f,b,c);a=this.qa;var g;void 0===g&&(g=.01);(0===a.y||0===c.y?a.y===c.y:Math.abs(Math.abs(a.x/a.y)-Math.abs(c.x/c.y))<g)||(g=d.yb(this.qa),d.Xa(f,this.b,this.qa),d.Sb(this.qa),d.ca(this.qa,b),d.j(b,10),d.ra(this.b,b,b),d.j(this.qa,g))}}}else this.ja.push(d.ca(a))}};b.prototype.ue=function(a){var b=d.yb(this.qa);a=b*a;for(var f=0;0<a;)if(d.Xa(this.ja[0],
this.b,c),0<(f=d.yb(c))-a){d.Sb(c);d.ca(c,this.qa);d.j(c,a);d.ra(this.b,c,this.b);d.j(this.qa,b);break}else if(a-=f,d.ra(this.b,c,this.b),this.ja.shift(),this.v+=this.f.Nb,1>this.ja.length)break};return b}(h.ac);g.sd=b})(e.Xb||(e.Xb={}))})(n||(n={}));
(function(e){(function(e){var d=function(c){function b(a,b,d,k){c.call(this,a,b,d,k);this.sa=new u.Text(0,0);this.sa.h.Set(.5,.5);this.sa.b.Set(d/2,k/2)}l(b,c);b.prototype.m=function(a){this.Ja+=1*Math.PI*a;c.prototype.m.call(this,a)};b.prototype.Ga=function(a){a.fillStyle=this.va;a.fillRect(0,0,this.a.x,this.a.y);this.sa.Qa(this.v.toFixed(0));this.sa.Ja=-this.Ja;this.sa.Fa(a)};return b}(e.sd);e.ce=d})(e.Xb||(e.Xb={}))})(n||(n={}));
(function(e){var g=h.w,d=function(c){function b(a,b,d){void 0===d&&(d={ha:3,$:15,ga:0});c.call(this,0,0,a,b);this.Ea=d;this.ld=1;this.v=0;this.Nb=1;this.Eb=this.Ea.$;this.Kd=!1;this.o=new h.kd;this.ba=new h.hd;this.ba.Yc(this.Ea.ha,this.Pb,this,d.ga);this.ba.pa(this.Ea.$,this.pc,this);this.ba.Yc(1,this.ve,this,5,this.Ea.$-5.5);this.Ka=new u.Z(a/2,a/3);this.Ka.h.Set(.5,.5);this.Ka.fb(h.Ib(e.ka.color.background,1.4));this.Ka.ea(120)}l(b,c);b.prototype.m=function(a){this.Eb-=a;this.o.m(a*this.ld);this.ba.m(a);
0<=this.Eb&&(this.Ka.Qa(this.Eb.toFixed(0)),this.xc(a),this.te())};b.prototype.xc=function(a){for(var b=this.Aa;b;b=b.aa)if(b.f){b.m(a);if(b.xb())for(var c=b.aa;c;c=c.aa)c.xb()&&this.Jd(b,c)&&this.Xd(b,c);b.b.y<-b.a.y/2?this.Sc(b):b.b.x>this.a.x||0>b.b.x?this.Sc(b):b.b.y>this.a.y&&this.Yd(b)}};b.prototype.te=function(){for(var a=[],b=this.Aa;b;b=b.aa)b.xb()&&a.push(b);var c=4>a.length?1:a.length/2|0;if(0<c-this.Nb)for(var d=0;d<a.length;d++)b=a[d],this.o.u(b.j).s({x:1.5,y:1.5},.2,h.Da.Ua).na().s({x:1,
y:1},.2).i();this.Nb=c};b.prototype.td=function(a){this.gb?(this.gb.aa=a,a.ua=this.gb,this.gb=a):this.Aa=this.gb=a;a.f=this};b.prototype.ob=function(a){a.aa?a.ua?(a.ua.aa=a.aa,a.aa.ua=a.ua):(a.aa.ua=null,this.Aa=a.aa):a.ua?(a.ua.aa=null,this.gb=a.ua):this.Aa=this.gb=null;a.f=void 0};b.prototype.Fd=function(a){for(var b=this.Aa;b;b=b.aa)if(b.Mb(a))return b;return null};b.prototype.Jc=function(a){if(!(2>a.ja.length)){var b=a.ja[a.ja.length-1],c=g.Ya;g.Xa(b,a.ja[a.ja.length-2],c);g.j(c,20);g.ra(b,c,
c);a.Sa(c)}};b.prototype.Ga=function(a){a.strokeStyle=e.ka.color.active;a.setLineDash([3,9]);a.lineCap="butt";a.lineWidth=2;for(var b=this.Aa;b;b=b.aa)if(b.xb()){a.beginPath();a.moveTo(b.b.x,b.b.y);for(var d=0,k=b.ja;d<k.length;d++){var g=k[d];a.lineTo(g.x,g.y)}a.stroke()}a.globalCompositeOperation="xor";c.prototype.Ga.call(this,a);a.globalCompositeOperation="destination-over";a.imageSmoothingEnabled=!1;a.webkitImageSmoothingEnabled=!1;this.Ka.Fa(a)};b.prototype.Jd=function(a,b){var c=g.Ya;g.Xa(a.b,
b.b,c);return g.yb(c)<(a.a.x+b.a.x)/2};b.prototype.Sc=function(a){var b=Math.min(-a.v,-10);this.v+=b;a.b.y+=a.a.y/2;this.bc(a.b,b);this.ob(a);this.Cb(a);this.Pb()};b.prototype.Yd=function(a){this.v+=a.v;this.bc(a.b,a.v);this.ob(a);this.Cb(a)};b.prototype.Xd=function(){for(var a=this,b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];b.forEach(function(b){a.ob(b);a.o.u(b).s({ma:0},2).Ba(function(){return b.Wa()}).i()})};b.prototype.pc=function(){var a=this;this.ba.Wc();var b=this.o.u(null),c=0;b.i();
for(var d=this.Aa;d;d=d.aa)if(1<d.v){var e=this.o.u(d.j).s({x:2,y:2},.3,h.Da.Ua).na(d).s({v:d.v/2|0},.5).Ba(function(b){var c=Math.round(b.v);a.bc(b.b,c);a.v+=c}).na(d.j).s({x:5,y:5},.35).rc(d,function(a){return a.s({ma:0},.35)}).na(d).Ba(function(b){a.Cb(b);a.ob(b)});b.na(e).Ba(function(a){return a.i()});b=e;c+=1}3<c&&(this.ld=2);b.na().Ba(function(){a.Tc&&a.Tc();for(var b=a.Aa;b;b=b.aa)if(1>=b.v&&b.f){var c=h.Bb(0,.6);a.o.u(b.j).pa(c).na().s({x:5,y:5},.35).rc(b,function(a){return a.s({ma:0},.25)}).na(b).Ba(function(b){a.Cb(b);
a.ob(b)}).i()}a.Kd=!0})};b.prototype.Pb=function(){var a=new e.Xb.ce(h.Bb(15,this.a.x-15),this.a.y-5,30,30);a.va=e.ka.color.Gb;a.h.Set(.5,.5);a.ma=0;a.j.Set(.1,.1);var b=g.Ya;b.y=0;b.x=h.Bb(15,this.a.x-15);g.Xa(a.b,b,b);g.Sb(b);g.j(b,h.Bb(-80,-60));g.ca(b,a.qa);this.o.u(a).s({ma:1},.2).i();this.o.u(a.j).s({x:1,y:1},.2).i();this.td(a);this.g(a)};b.prototype.bc=function(a,b){var c=new u.Z(a.x,a.y,(0<b?"+":"")+b);c.h.Set(.5,.5);c.fb(0<b?e.ka.color.active:e.ka.color.Gb);this.g(c);var d=0<b?2:1;this.o.u(c.j).s({x:d,
y:d},.5,h.Da.Ua).pa(.3).na(c).s({ma:0},.3).Ba(function(){c.Wa()}).i();if(0>a.x||a.x>this.a.x){var g=0<a.x?1:-1;this.o.u(c.b).s({x:a.x-g*c.a.x*d},.2).i()}else g=0<a.y?1:-1,this.o.u(c.b).s({y:a.y-g*c.a.y*d},.2).i()};b.prototype.ve=function(){this.Ka.j.Set(2,2);this.o.u(this.Ka.j).pa(.1).na().s({x:1,y:1},.4).i()};return b}(h.Ha);e.f=d})(n||(n={}));(function(e){(function(e){e.$b=function(d,c,b){return Math.max(Math.min(d,b),c)}})(e.Vb||(e.Vb={}))})(h||(h={}));
(function(e){var g=function(c){function b(a){void 0===a&&(a={ha:3,$:1,da:"",la:100,ga:0});c.call(this);this.Ea=a}l(b,c);b.prototype.i=function(){var a=this;c.prototype.i.call(this);this.La=0;this.f=new n.f(this.c.a.x,this.c.a.y,this.Ea);this.f.Tc=function(){return a.ba.pa(1,a.pc,a)};this.c.g(this.f);this.fa=new d(this);this.ic();this.jc();this.c.g(this.Yb=new u.Pa(0,this.f.a.y,this.f.a.x,30,{fillStyle:"rgba(0, 0, 0, 0.5)"}));this.rb=new u.Z(0,0,"TAP TO START");this.rb.h.Set(.5,.5);this.c.g(this.rb);
this.sa=new u.Z(0,0);this.sa.h.Set(.5,.5);this.sa.ea(15);this.c.g(this.sa);this.pb=new u.Z(0,0,"RESTART");this.pb.ea(10);this.pb.h.Set(1,.5);this.c.g(this.pb);this.lb=new u.Z(0,0,"MENU");this.lb.ea(10);this.lb.h.Set(0,.5);this.c.g(this.lb);this.Kb=new u.Z(0,0);this.Kb.ea(10);this.c.g(this.Kb);this.fa.Ca(this.pb,function(){return a.l.Play("game")}).Ca(this.lb,function(){return a.l.Play("select")});this.ya()};b.prototype.m=function(a){c.prototype.m.call(this,a);this.kb.m(a);this.fa.m();this.f.m(a*this.La);
this.Kb.Qa(this.kb.Kc().toFixed(1));this.sa.Qa(this.f.v.toString())};b.prototype.Fa=function(a){a.clearRect(0,0,a.canvas.width,a.canvas.height);this.c.Fa(a)};b.prototype.pc=function(){var a=this;this.Ea.da&&this.f.v>n.ib.Lc(this.Ea.da)&&n.ib.je(this.Ea.da,this.f.v);var b=new h.Ha(this.c.a.x/2,150);this.f.Ka.Oa=!1;var c=h.Vb.$b(this.f.v/this.Ea.la,0,1),d=new e.Nd(0,0);d.h.Set(.5,.5);d.jd(this.o,c);c=new u.Text(0,100,"RESTART");c.ea(20);c.h.Set(.5,.5);c.fb(n.ka.color.background);var g=new u.Pa(c.b.x,
c.b.y,c.a.x+20,c.a.y+10,{fillStyle:"white"});g.h.Set(.5,.5);var t=new u.Z(0,160,"LEVEL SELECT");t.h.Set(.5,.5);b.g(d);b.g(g);b.g(c);b.g(t);this.c.g(b);this.lb.Wa();this.pb.Wa();this.o.u(this.sa.b).s({y:100},1,h.Da.Ua).rc(this.sa.j,function(a){return a.s({x:2,y:2})}).i();this.fa=(new h.wb).Ca(c,function(){return a.l.Play("game")}).Ca(t,function(){return a.l.Play(n.ib.Fc())})};b.prototype.ya=function(){c.prototype.ya.call(this);this.f.a.y=this.c.a.y-this.Yb.a.y;this.f.a.x=this.c.a.x;this.f.Ka.b.Set(this.f.a.x/
2,this.f.a.y/3);this.Yb.b.Set(0,this.f.a.y);this.Yb.a.x=this.f.a.x;this.rb.b.Set(this.f.a.x/2,this.f.a.y/2);this.sa.b.Set(this.f.a.x/2,this.f.a.y+13.5);this.pb.b.Set(this.f.a.x-10,this.f.a.y+13.5);this.lb.b.Set(10,this.f.a.y+13.5);this.Kb.b.Set(10.5,10.5)};return b}(e.Hb);e.Vc=g;var d=function(c){function b(a){c.call(this);this.Ra=a;this.ub=new h.hb}l(b,c);b.prototype.eb=function(a){h.w.ca(a,this.ub);var b=this.Ra.f.Fd(this.ub);b&&(b.ja=[],this.za=b);c.prototype.eb.call(this,a)};b.prototype.nb=function(a){this.Ra.rb.Va&&
(this.Ra.La=1,this.Ra.rb.Wa());this.za&&(this.Ra.f.Jc(this.za),this.za=void 0);c.prototype.nb.call(this,a)};b.prototype.Ab=function(a){h.w.ca(a,this.ub);!this.za&&this.Ra.f.Mb(a)&&this.eb(a);this.za&&!this.Ra.f.Mb(this.ub)&&(this.Ra.f.Jc(this.za),this.za=void 0)};b.prototype.m=function(){this.za&&(this.za.Va?this.za.Sa(this.Ra.f.wc(this.ub)):this.za=void 0)};return b}(h.wb)})(m||(m={}));
(function(e){var g=function(b){function a(){b.apply(this,arguments);this.hc=[{da:"World1.Level0",ha:5,ga:1,$:5,la:15},{da:"World1.Level1",ha:3,ga:2,$:10,la:45},{da:"World1.Level2",ha:3,ga:5,$:15,la:170},{da:"World1.Level3",ha:3,ga:10,$:30,la:600},{da:"World1.Level4",ha:3,ga:20,$:60,la:1500}]}l(a,b);a.prototype.i=function(){var a=this;b.prototype.i.call(this);this.ya();this.l.oa.style.background=n.ka.color.background;this.fa=new h.wb;this.ic();this.jc();var d=new u.Z(this.c.a.x/2,10,"CHALLENGE");d.h.Set(.5,
0);d.ea(10);this.c.g(d);this.Zb=new u.Z(this.c.a.x/2,30);this.Zb.h.Set(.5,0);this.c.g(this.Zb);var k=[];this.hc.forEach(function(b,d){var g=new c(d,b);g.b.Set(d&1?a.c.a.x+g.a.x:-g.a.x,120+70*d);g.h.Set(.5,.5);a.c.g(g);var q=a.o.u(g.b).s({x:a.c.a.x/2},1,h.Da.Ua).Ba(function(){return g.ne(a.o)}).i();k.push([g,q]);a.fa.Ca(g,function(){a.o.u(g.j).s({x:1.1,y:1.1},1,h.Da.Ua).Ba(function(){a.l.jb("game",new e.Vc(b));a.l.Play("game")}).i();for(var c=0;c<k.length;c++){var d=k[c],q=d[1];d[0]!==g&&q.ge().i()}});
a.fa.we(g,function(){return g.Vd()}).xe(a.c,function(){return g.Wd()})});d=new u.Z(40,30,"MENU");d.h.Set(.5,.5);d.ea(10);var g=new u.Pa(d.b.x,d.b.y,50,30,{strokeStyle:"white"});g.h.Set(.5,.5);g.Oa=!1;this.mb=new u.Z(this.c.a.x-40,d.b.y,"NEXT");this.mb.h.Set(.5,.5);this.mb.ea(10);this.zb=new u.Pa(this.mb.b.x,this.mb.b.y,50,30,{strokeStyle:"white"});this.zb.h.Set(.5,.5);this.zb.Oa=!1;this.c.g(d,g,this.mb,this.zb);this.fa.Ca(g,function(){return a.l.Play("menu")})};a.prototype.ad=function(a){this.Zb.Qa(a);
n.ib.Fc(a.toLowerCase()+"-challenge")};return a}(e.Hb);e.Pc=g;var d=function(b){function a(a,c){b.call(this,a,c,200,20);var d=new u.Z(5,5,"BAD");d.ea(10);this.g(d);d=new u.Z(195,5,"AWESOME");d.ea(10);d.h.Set(1,0);this.g(d);d=new u.Pa(.5,.5,200,20,{strokeStyle:"white"});this.g(d);d=new u.Pa(1.5,1.5,198,18,{fillStyle:"white",Ub:"xor"});d.j.Set(0,1);this.g(this.Ic=d)}l(a,b);a.prototype.jd=function(a,b){var c=this,d=a.u(this.Ic.j).s({x:b},1,h.Da.Ua).i();1===b&&d.Ba(function(){return c.Ic.ia.fillStyle=
n.ka.color.Wb})};return a}(h.Ha);e.Nd=d;var c=function(b){function a(a,c){b.call(this,0,0,250,40);this.zd=c;var e=new u.Z(0,0,a.toString());e.ea(40);e.fb(n.ka.color.Gb);this.g(e);this.v=n.ib.Lc(c.da);e=new u.Text(50,0,"HI-SCORE: "+this.v);e.ea(10);e.Cache();this.g(e);e=new u.Text(251,0,"TIME: "+c.$);e.ea(10);e.h.Set(1,0);e.Cache();this.g(e);this.$c=new d(50,20);this.g(this.$c);e=new u.Pa(125,20,270,60,{fillStyle:"rgba(0, 0, 0, 0.3)",Ub:"destination-over"});e.h.Set(.5,.5);this.g(e);this.ab=new u.Pa(e.b.x,
e.b.y+e.a.y/2,e.a.x,5,{fillStyle:"rgba(0, 0, 0, 0.5)",Ub:"destination-over"});this.ab.h.Set(.5,0);this.g(this.ab)}l(a,b);a.prototype.Vd=function(){this.ab.Oa=!1;this.b.y+=this.ab.a.y};a.prototype.Wd=function(){this.ab.Oa||(this.ab.Oa=!0,this.b.y-=this.ab.a.y)};a.prototype.ne=function(a){var b=h.Vb.$b(this.v/this.zd.la,0,1);this.$c.jd(a,b)};return a}(h.Ha)})(m||(m={}));
(function(e){var g=function(d){function c(){d.apply(this,arguments);this.hc=[{da:"World1.Level0",ha:5,ga:1,$:5,la:15},{da:"World1.Level1",ha:3,ga:2,$:10,la:45},{da:"World1.Level2",ha:3,ga:5,$:15,la:170},{da:"World1.Level3",ha:3,ga:10,$:30,la:600},{da:"World1.Level4",ha:3,ga:20,$:60,la:1500}]}l(c,d);c.prototype.i=function(){var b=this;n.ka.color=n.ka.yc.rd;d.prototype.i.call(this);this.ad("PRECISION");this.fa.Ca(this.zb,function(){return b.l.Play("speed-challenge")})};return c}(e.Pc);e.ae=g})(m||(m=
{}));(function(e){var g=function(d){function c(){d.apply(this,arguments);this.hc=[{da:"World2.Level0",ha:1,ga:8,$:10,la:250},{da:"World2.Level1",ha:1,ga:13,$:15,la:500},{da:"World2.Level2",ha:1,ga:28,$:30,la:1400},{da:"World2.Level3",ha:1,ga:58,$:60,la:2800}]}l(c,d);c.prototype.i=function(){var b=this;n.ka.color=n.ka.yc.blue;d.prototype.i.call(this);this.ad("SPEED");this.mb.Qa("PREV");this.fa.Ca(this.zb,function(){return b.l.Play("precision-challenge")})};return c}(e.Pc);e.ke=g})(m||(m={}));
(function(e){var g=function(){function b(){}b.prototype.Uc=function(a){a&&localStorage.setItem("UserPassedTutorial",a.toString());return!!localStorage.getItem("UserPassedTutorial")};b.prototype.Fc=function(a){a&&localStorage.setItem("CurrentChallenge",a);return localStorage.getItem("CurrentChallenge")};b.prototype.Lc=function(a){return parseInt(localStorage.getItem("HiScore."+a),10)||0};b.prototype.je=function(a,b){localStorage.setItem("HiScore."+a,b.toString())};return b}();if("object"===typeof localStorage){var d=
!0;try{localStorage.setItem("storageTest","1"),localStorage.removeItem("storageTest")}catch(c){Storage.prototype.setItem=function(){d&&alert("If you want to save your scores please leave private browsing.");d=!1}}}e.ib=new g})(n||(n={}));
(function(e){var g=h.w,d=function(b){function a(){b.apply(this,arguments);this.Qb=0}l(a,b);a.prototype.i=function(){var a=this;b.prototype.i.call(this);this.nd=[];this.od=12;this.cc=new u.Z(10,10);this.cc.ea(10);this.Td();this.Sd();this.Rd();this.Fb=new u.Text(0,0,"0.8B");this.Fb.ea(10);this.Fb.h.Set(1,1);this.Fb.Cache();this.o.u(this.Ob).s({Ja:Math.PI/12},2,h.Da.cd).na().s({Ja:-Math.PI/12},2,h.Da.cd).na().Pd().i();this.c.ma=0;this.o.u(this.c).s({ma:1}).i();this.fa=new h.wb;this.ic();this.jc();this.fa.Ca(this.Ob,
function(){return a.l.Play(n.ib.Uc()?"precision-challenge":"tutorial")}).Ca(this.re,function(){return a.l.Play("tutorial")});this.ya();this.Qd();this.c.g(this.cc,this.ta,this.Ob,this.mc,this.Fb)};a.prototype.m=function(a){this.Qb+=a;this.kb.m(a);this.cc.Qa(this.kb.Kc().toFixed(1));1>this.Qb&&(this.l.oa.style.background=h.Ib(n.ka.color.background,this.Qb));for(var c=0,d=this.nd;c<d.length;c++)d[c].m(a*this.od);b.prototype.m.call(this,a)};a.prototype.ya=function(){b.prototype.ya.call(this);var a=this.c.a.x/
2,c=this.c.a.y/2,d=this.c.a.y/this.vb.y;this.ta.b.Set(a,c-100*d);this.Ob.b.Set(a,c-10*d);this.mc.b.Set(a,c+70*d);this.Fb.b.Set(this.c.a.x-10,this.c.a.y-10)};a.prototype.Qd=function(){for(var a=2;1<=a;--a){var b=1/(a/2+1),d=new c(this.c.a.x,this.c.a.y,{ha:.5,$:1E9,ga:0});d.b.Set(this.c.a.x/2,this.c.a.y/2);d.j.Set(b,(a&1?-1:1)*b);d.h.Set(.5,.5);d.ma=b;g.j(d.a,1/b);d.Ka.Oa=!1;this.c.g(d);this.nd.push(d)}this.o.u(this).s({od:1},2,h.Da.Ua).i()};a.prototype.Sd=function(){var a=new h.Ha(0,100);a.h.Set(.5,
.5);a.j.Set(2,2);var b=new u.Text(5,5,"PLAY"),c=new u.Pa(0,0,b.a.x+10,b.a.y+10,{strokeStyle:"white",fillStyle:"rgba(0, 0, 0, 0.2)"});a.g(c,b);g.ca(c.a,a.a);a.Cache();this.Ob=a};a.prototype.Rd=function(){var a=new u.Text(0,0,"TUTORIAL");a.Cache();a.h.Set(.5,.5);this.re=a;var b=new u.Text(0,60,"VOTE");b.Cache();b.h.Set(.5,.5);this.mc=new h.Ha;this.mc.g(a,b)};a.prototype.Td=function(){this.ta=new h.Ha;var a=new u.Text(0,0,"SHAPES"),b=new u.Text(a.a.x+20,0,"\u2665");b.fb("red");b.h.Set(.5,0);var c=new u.Text(b.b.x+
20,0,"NUMBERS"),d=c.b.x+c.a.x;this.ta.a.Set(d,a.a.y);this.ta.h.Set(b.b.x/d,.5);this.ta.g(a,b,c);this.ta.Cache()};return a}(e.Hb);e.Ud=d;var c=function(b){function a(){b.apply(this,arguments);this.bd=1}l(a,b);a.prototype.m=function(a){this.o.m(a);this.ba.m(a);this.xc(a)};a.prototype.Ga=function(a){for(var b=0,c=this.sb;b<c.length;b++)c[b].Fa(a)};a.prototype.xc=function(a){for(var b=g.Ya,c=this.Aa;c;c=c.aa)if(g.ca(c.qa,b),g.j(b,a),g.ra(c.b,b,c.b),c.Ja+=Math.PI*a,0>c.b.y||c.b.y>this.a.y||0>c.b.x||c.b.x>
this.a.x)this.ob(c),c.Wa()};a.prototype.Pb=function(){b.prototype.Pb.call(this);var a=this.gb;a.va=h.Ib(a.va,this.bd);this.Nc?a.Ma=this.Nc:(a.Cache(function(a){return a.globalCompositeOperation="xor"}),this.Nc=a.Ma);.5<Math.random()||(a.va=h.Ib(n.ka.color.active,this.bd),this.zc?a.Ma=this.zc:(a.Cache(function(a){return a.globalCompositeOperation="xor"}),this.zc=a.Ma))};return a}(n.f)})(m||(m={}));
(function(e){var g=h.w,d=function(c){function b(){c.call(this,{ha:15,$:15,da:"",la:10,ga:1});this.ed="SEE THIS RED SQUARE?;THIS IS ITS TRAJECTORY;YOUR GOAL IS TO;REVERSE ITS TRAJECTORY;LIKE THAT;SO IT WILL HIT THE BOTTOM;THEN YOU WILL EARN POINTS;BUT YOU HAVE TO DO THIS;BEFORE TIME RUNS OUT;GOT IT?;".split(";")}l(b,c);b.prototype.i=function(){var a=this;c.prototype.i.call(this);var b=this.c.a.x/2;this.La=1;var d=new u.Z(b,100);d.ea(15);d.h.Set(.5,.5);this.oe=d;this.tb=0;var e=new u.Z(b,130,"TAP TO CONTINIUE");
e.h.Set(.5,.5);e.ea(10);e.ma=.7;this.vc=e;this.rb.Wa();this.fa=new h.wb;this.ba.pa(1.5,function(){a.La=0;d.Qa(a.ed[a.tb++]);a.c.g(e);a.c.g(d);a.fa.Ca(a.c,a.Hc.bind(a))})};b.prototype.Hc=function(){var a=this;this.oe.Qa(this.ed[this.tb]);switch(this.tb){case 1:this.ud(this.f.Aa);break;case 2:case 3:break;case 4:this.he(this.f.Aa);break;case 5:this.La=1;if(1>this.f.v){this.vc.Va&&this.vc.Wa();this.ba.pa(.1,function(){return a.Hc()});return}this.La=0;this.c.g(this.vc);this.ba.Wc();break;case 6:this.La=
1;this.ba.pa(1.5,function(){return a.La=0});break;case 7:break;case 8:this.La=1,this.f.m(this.f.Eb-5.5),this.ba.pa(5.3,function(){return a.La=0});case 9:break;case 10:this.l.Play("select");n.ib.Uc(!0);return;default:throw Error();}this.tb+=1};b.prototype.ud=function(a){var b=g.Ya;g.ca(a.qa,b);g.j(b,10);g.ra(b,a.b,b);a.Sa(a.b);a.Sa(b)};b.prototype.he=function(a){var b=g.Ya;a.ja=[];g.ca(a.qa,b);g.ra(b,a.b,b);a.Sa(a.b);a.Sa(b);b.Set(this.f.a.x/2+h.Bb(-30,30),this.f.a.y/2+50);a.Sa(b);b.Set(this.f.a.x/
2,this.f.a.y+50);a.Sa(b)};return b}(e.Vc);e.qe=d})(m||(m={}));var v=new h.l("canvas");v.jb("splash",new m.le);v.jb("menu",new m.Ud);v.jb("precision-challenge",new m.ae);v.jb("speed-challenge",new m.ke);v.jb("tutorial",new m.qe);v.Play("splash");v.i();
