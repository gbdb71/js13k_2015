var k;
(function(d){var e=function(){function c(a){this.Nb={};this.zb=this.Ob=0;this.ua=[];this.G=document.getElementById(a);this.Zb=this.G.getContext("2d");this.Jb=window.requestAnimationFrame.bind(window,this.nc.bind(this))}c.prototype.Wb=function(){var a=new l;this.Nb.demo=a};c.prototype.Play=function(a){if(this.wa){for(var b=this.ua.length-1;0<=b;--b){var h=this.ua[b];this.sc(h.element,h.type,h.listener)}this.ua=[]}if(this.wa=this.Nb[a])this.wa.f=this,this.wa.B(),this.Jb();else throw Error();};c.prototype.fa=
function(a,b,h){this.ua.push({element:a,type:b,listener:h});a.addEventListener(b,h);console.log("Adding listener",a,b)};c.prototype.sc=function(a,b,h){for(var g=0,f=this.ua;g<f.length;g++){var c=f[g];if(c.element===a&&c.type===b&&c.listener===h){d.mb(this.ua,c);a.removeEventListener(b,h);console.log("Removing listener",a,b);return}}throw Error("Couldn't find event listener.");};c.prototype.nc=function(a){var b=a-this.zb;50<b&&(b=50);this.Ob=b/1E3;this.wa.m(this.Ob);this.wa.I(this.Zb);this.zb=a;this.Jb()};
return c}();d.f=e})(k||(k={}));(function(d){var e=function(){function c(a){this.f=a}c.prototype.ob=function(a,b){this.f.fa(this.f.G,"mousemove",this.oa.bind(null,a.bind(b)))};c.prototype.nb=function(a,b){this.f.fa(this.f.G,"mousedown",this.oa.bind(null,a.bind(b)))};c.prototype.pb=function(a,b){this.f.fa(this.f.G,"mouseup",this.oa.bind(null,a.bind(b)))};c.prototype.oa=function(a,b){a(b.layerX,b.layerY)};return c}();d.jc=e})(k||(k={}));
(function(d){var e=function(){function c(a){this.f=a}c.prototype.ob=function(a,b){this.f.fa(this.f.G,"touchmove",this.oa.bind(this,a.bind(b)))};c.prototype.nb=function(a,b){this.f.fa(this.f.G,"touchstart",this.oa.bind(this,a.bind(b)))};c.prototype.pb=function(a,b){this.f.fa(this.f.G,"touchend",function(){a.call(b,0,0)})};c.prototype.oa=function(a,b){a(b.targetTouches[0].pageX,b.targetTouches[0].pageY);b.preventDefault()};return c}();d.zc=e})(k||(k={}));
(function(d){(function(d){d.Yb=function(c){return Math.max(Math.min(c,50),20)}})(d.Tb||(d.Tb={}))})(k||(k={}));(function(d){var e=function(){function c(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}c.prototype.Set=function(a,b){this.x=a;this.y=b};c.prototype.V=function(){return new c(this.x,this.y)};return c}();d.Fa=e})(k||(k={}));
(function(d){(function(e){function c(h,b){void 0===h&&(h=0);void 0===b&&(b=0);return new d.Fa(h,b)}function a(h,b){if(b)b.x=h.x,b.y=h.y;else return c(h.x,h.y)}function b(b){return Math.sqrt(b.x*b.x+b.y*b.y)}e.Ic=new d.Fa;e.Ea=new d.Fa;e.o=c;e.V=a;e.gc=function(b){return 0===b.x&&0===b.y};e.Ha=function(b,a,f){f.x=b.x+a.x;f.y=b.y+a.y};e.va=function(b,a,f){f.x=b.x-a.x;f.y=b.y-a.y};e.Bb=function(b,a,f){f.x=b.x*a.x;f.y=b.y*a.y};e.h=function(b,a,f){void 0===f&&(f=b);f.x=b.x*a;f.y=b.y*a};e.ib=b;e.Pb=function(a){var g;
void 0===g&&(g=a);var f=b(a);0<f&&(g.x=a.x/f,g.y=a.y/f)};e.Lb=function(b,g,f){void 0===f&&(f=b);var c=Math.sin(g);g=Math.cos(g);b===f&&(b=a(b));f.x=b.x*g-b.y*c;f.y=b.x*c+b.y*g};e.sb=function(b){return Math.atan2(b.y,b.x)};e.ec=function(b,a){a.x=0<b.x?1/b.x:0;a.y=0<b.y?1/b.y:0}})(d.i||(d.i={}))})(k||(k={}));var m=this&&this.Jc||function(d,e){function c(){this.constructor=d}for(var a in e)e.hasOwnProperty(a)&&(d[a]=e[a]);c.prototype=e.prototype;d.prototype=new c};
(function(d){var e=function(){function c(a,b,h,g){this.c=d.i.o(a,b);this.a=d.i.o(h,g);this.D=d.i.o(0,0);this.h=d.i.o(1,1);this.sa=0;this.Y=1}c.prototype.I=function(a){a.save();a.globalAlpha*=this.Y;a.translate(this.c.x,this.c.y);a.scale(this.h.x,this.h.y);a.rotate(this.sa);d.i.gc(this.D)||a.translate(-this.D.x*this.a.x,-this.D.y*this.a.y);this.ca(a);a.restore()};c.prototype.ca=function(){throw Error("Unimplemented");};c.prototype.Xa=function(a,b){var h,g=d.i.Ea;b?(d.i.V(a,b),h=b):h=d.i.V(a);this.la&&
this.la.Xa(a,h);d.i.va(h,this.c,h);d.i.V(this.h,g);d.i.ec(g,g);d.i.Bb(h,g,h);d.i.Lb(h,-this.sa,h);d.i.V(this.D,g);d.i.Bb(g,this.a,g);d.i.Ha(h,g,h);if(!b)return h};c.prototype.yb=function(a){a=this.Xa(a);var b=0<a.y&&a.y<this.a.y;return 0<a.x&&a.x<this.a.x&&b};c.prototype.Hb=function(){this.la.ra(this)};return c}();d.eb=e;e=function(c){function a(){c.apply(this,arguments);this.Ja=[]}m(a,c);a.prototype.aa=function(b){if(b.la)throw Error("Child has parent");b.la=this;this.Ja.push(b)};a.prototype.ra=
function(b){var a=this.Ja.indexOf(b);if(0<=a)b.la=void 0,this.Ja.splice(a,1);else throw Error("Child doesn't exist in this layer");};a.prototype.ca=function(b){for(var a=0,g=this.Ja;a<g.length;a++)g[a].I(b)};return a}(e);d.Ab=e})(k||(k={}));var n;
(function(d){var e=function(c){function a(b,a,g,f,d){void 0===d&&(d={fillStyle:"red"});c.call(this,b,a,g,f);this.v=d}m(a,c);a.prototype.ca=function(b){this.v.fillStyle&&(b.fillStyle=this.v.fillStyle,b.fillRect(0,0,this.a.x,this.a.y));this.v.strokeStyle&&(b.strokeStyle=this.v.strokeStyle,b.strokeRect(0,0,this.a.x,this.a.y))};return a}(k.eb);d.pc=e})(n||(n={}));
(function(d){var e=function(){function c(a,b,h){void 0===h&&(h="white");this.$=a;this.a=b;this.Z=h;this.tb={};this.H=b/a.ga.gb;this.ba=a.ga.$a*this.H;this.Cache=document.createElement("canvas");this.Cache.width=Object.keys(a.jb).length*Math.ceil(this.ba+this.H);this.Cache.height=b;console.log("FontCache Size",this.a,"DotPx",this.H,"Color",this.Z);this.tc()}c.prototype.vb=function(a,b,h,g,f,c){void 0===h&&(h=0);void 0===g&&(g=0);void 0===f&&(f=1);void 0===c&&(c=f);a.drawImage(this.Cache,this.tb[b],
0,this.ba,this.a,h,g,this.ba*f,this.a*c)};c.prototype.tc=function(){var a=this.Cache.getContext("2d"),b=0;a.fillStyle=this.Z;for(var h in this.$.jb){this.uc(a,h);this.tb[h]=b;var c=Math.ceil(this.ba+this.H),b=b+c;a.translate(c,0)}};c.prototype.uc=function(a,b){for(var h=this.$,c=this.H,f=0;f<h.ga.$a;++f)for(var d=0;d<h.ga.gb;++d)h.jb[b][d*h.ga.$a+f]&&a.fillRect(f*c,d*c,c,c)};return c}();d.ac=e})(n||(n={}));
(n||(n={})).oc={ga:{$a:3,gb:5},jb:{"+":[0,0,0,0,1,0,1,1,1,0,1,0,0,0,0],"-":[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],".":[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],":":[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],0:[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1],1:[0,1,0,1,1,0,0,1,0,0,1,0,0,1,0],2:[1,1,1,0,0,1,1,1,1,1,0,0,1,1,1],3:[1,1,1,0,0,1,0,1,1,0,0,1,1,1,1],4:[1,0,1,1,0,1,1,1,1,0,0,1,0,0,1],5:[1,1,1,1,0,0,1,1,1,0,0,1,1,1,0],6:[0,1,1,1,0,0,1,1,1,1,0,1,1,1,1],7:[1,1,1,0,0,1,0,1,0,0,1,0,0,1,0],8:[1,1,1,1,0,1,1,1,1,1,0,1,1,1,1],9:[1,1,1,1,0,1,1,
1,1,0,0,1,1,1,0],A:[0,1,0,1,0,1,1,1,1,1,0,1,1,0,1],C:[1,1,1,1,0,0,1,0,0,1,0,0,1,1,1],E:[1,1,1,1,0,0,1,1,0,1,0,0,1,1,1],F:[1,1,1,1,0,0,1,1,0,1,0,0,1,0,0],O:[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1],P:[1,1,1,1,0,1,1,1,1,1,0,0,1,0,0],R:[1,1,0,1,0,1,1,1,0,1,0,1,1,0,1],S:[1,1,1,1,0,0,1,1,0,0,0,1,1,1,1],T:[1,1,1,0,1,0,0,1,0,0,1,0,0,1,0]},Cache:{}};
(function(d){var e=function(c){function a(b,a,g,f){void 0===g&&(g="");void 0===f&&(f={a:20,Z:"white",$:d.oc});c.call(this,b,a,0,0);this.Text=g;this.v=f;this.Ta(f.Z);this.Ua(f.a)}m(a,c);a.prototype.Ta=function(b){this.Ma=this.v.$.Cache[b]?this.v.$.Cache[b]:this.v.$.Cache[b]=new d.ac(this.v.$,20,b)};a.prototype.Va=function(b){this.Text=b;this.Rb()};a.prototype.Ua=function(b){this.v.a=b;this.H=b/this.v.$.ga.gb;this.ba=this.v.$.ga.$a*this.H;this.Rb()};a.prototype.ca=function(b){for(var a=this.v.a/this.Ma.a,
c=0;c<this.Text.length;++c){var f=this.Text[c];" "!==f&&this.Ma.vb(b,f,0,0,a);b.translate(this.ba+this.H,0)}};a.prototype.Rb=function(){this.a.x=(this.ba+this.H)*this.Text.length-this.H;this.a.y=this.v.a};return a}(k.eb);d.Text=e;e=function(c){function a(){c.apply(this,arguments)}m(a,c);a.prototype.I=function(b){var a=this.v.a/this.Ma.a,c=this.c,f=c.x,c=c.y,f=f-this.a.x*this.D.x*this.h.x,c=c-this.a.y*this.D.y*this.h.y,d=b.globalAlpha;b.globalAlpha*=this.Y;for(var e=0;e<this.Text.length;++e){var q=
this.Text[e];" "!==q&&this.Ma.vb(b,q,f,c,a*this.h.x,a*this.h.y);f+=(this.ba+this.H)*this.h.x}b.globalAlpha=d};return a}(e);d.Ga=e})(n||(n={}));(function(d){d.Qa=function(d,c){if(c<d)throw Error();return d+Math.random()*(c-d)}})(k||(k={}));(function(d){d.mb=function(d,c){var a=d.indexOf(c);if(0<=a)d.splice(a,1);else throw Error();}})(k||(k={}));
(function(d){var e=function(){function a(b,a,c,f){void 0===f&&(f=NaN);this.Ia=b;this.ub=a;this.ia=c;this.dc=f;this.na=this.J=0}a.prototype.m=function(b){this.J+=b;this.J>this.ia&&(0===this.na&&(this.Ia.call(this.ub,b),this.na+=1),this.J-this.ia>this.dc*this.na&&(this.Ia.call(this.ub,b),this.na+=1))};return a}();d.Hc=e;var c=function(){function a(){this.U=[]}a.prototype.ia=function(b,a,c){var f=this,p;this.U.push(p=new e(function(){for(var b=[],e=0;e<arguments.length;e++)b[e-0]=arguments[e];d.mb(f.U,
p);a.apply(c,b)},c,b));return p};a.prototype.Ib=function(b,a,c,f){void 0===f&&(f=0);this.U.push(new e(a,c,f,b))};a.prototype.m=function(b){for(var a=0,c=this.U;a<c.length;a++)c[a].m(b)};a.prototype.rc=function(){this.U=[]};return a}();d.yc=c})(k||(k={}));var r,u=r||(r={});(u.X||(u.X={})).color={active:"white",qb:"#E74C3C",Gc:"#3498DB",background:"#2C3E50"};
(function(d){(function(e){var c=k.i,a=k.i.Ea,b=function(b){function e(){b.apply(this,arguments);this.Za=c.o(0,0);this.w=[];this.Z="red";this.l=1;this.xa=0;this.Sa=.2}m(e,b);e.prototype.m=function(b){1<this.w.length&&(this.Z=1<this.b.Pa?d.X.color.Gc:d.X.color.active,this.Xb());c.V(this.Za,a);c.h(a,b);c.Ha(this.c,a,this.c)};e.prototype.ca=function(){throw Error("Unimplemented");};e.prototype.Na=function(){return 0<this.w.length};e.prototype.rb=function(b){var h=this.w[this.w.length-1];if(h){if(c.va(b,
h,a),b=c.ib(a),20<b){c.Pb(a);c.h(a,20);for(var e=c.V(a);20<b;)c.Ha(h,e,a),this.w.push(h=c.V(a)),b-=20}}else this.w.push(c.V(b));this.Z=d.X.color.active};e.prototype.Xb=function(){c.va(this.w[0],this.c,a);5>c.ib(a)&&(this.w.shift(),this.xa=0,this.Sa=.2,this.l+=this.b.Pa);var b=c.sb(a),d=c.sb(this.Za),b=Math.atan2(Math.sin(b-d),Math.cos(b-d)),b=b*this.Sa;this.xa+=b;c.Lb(this.Za,b);Math.abs(this.xa)>2*Math.PI&&(this.Sa*=2,this.xa=0)};return e}(k.eb);e.Ub=b})(d.bb||(d.bb={}))})(r||(r={}));
(function(d){(function(d){var c=function(a){function b(b,c,f,d){a.call(this,b,c,f,d);this.W=new n.Text(0,0);this.W.D.Set(.5,.5);this.W.c.Set(f/2,d/2)}m(b,a);b.prototype.m=function(b){this.sa+=1*Math.PI*b;a.prototype.m.call(this,b)};b.prototype.ca=function(b){b.globalCompositeOperation="xor";b.fillStyle=this.Z;b.fillRect(0,0,this.a.x,this.a.y);this.W.Va(this.l.toFixed(0));this.W.sa=-this.sa;this.W.I(b)};return b}(d.Ub);d.qc=c})(d.bb||(d.bb={}))})(r||(r={}));
(function(d){var e=k.i,c=function(b){function a(){b.apply(this,arguments)}m(a,b);a.prototype.I=function(a){var c=a.globalCompositeOperation;a.globalCompositeOperation="xor";b.prototype.I.call(this,a);a.globalCompositeOperation=c};return a}(n.Ga),a=function(b){function a(){b.apply(this,arguments)}m(a,b);a.prototype.I=function(a){var c=a.globalCompositeOperation;a.globalCompositeOperation="destination-over";b.prototype.I.call(this,a);a.globalCompositeOperation=c};return a}(n.Ga),b=function(b){function g(f,
c){b.call(this,0,0,f,c);this.Ka={vc:3,kb:15};this.l=0;this.Pa=1;this.Da=this.Ka.kb;this.hb=!1;this.u=new k.Bc;this.U=new k.yc;this.U.Ib(this.Ka.vc,this.Mb,this);this.U.ia(this.Ka.kb,this.mc,this);this.U.Ib(1,this.Ec,this,this.Ka.kb-5.5);this.ea=new a(f/2,f/3);this.ea.D.Set(.5,.5);this.ea.Ta("#42566a");this.ea.Ua(120)}m(g,b);g.prototype.m=function(b){this.Da-=b;this.u.m(b);this.U.m(b);0<=this.Da&&(this.ea.Va(this.Da.toFixed(0)),this.Dc(b),this.Cc())};g.prototype.Dc=function(b){for(var a=this.da;a;a=
a.j)if(a.b){a.m(b);if(a.Na())for(var c=a.j;c;c=c.j)c.Na()&&this.fc(a,c)&&this.kc(a,c);a.c.y<-a.a.y/2?this.Eb(a):a.c.x>this.a.x||0>a.c.x?this.Eb(a):a.c.y>this.a.y&&this.lc(a)}};g.prototype.Cc=function(){for(var b=[],a=this.da;a;a=a.j)a.Na()&&b.push(a);var c=4>b.length?1:b.length/2|0;if(0<c-this.Pa)for(var d=0;d<b.length;d++)a=b[d],this.u.o(a.h).s({x:1.5,y:1.5},.2,k.ab.lb).N().s({x:1,y:1},.2).B();this.Pa=c};g.prototype.Vb=function(b){this.ta?(this.ta.j=b,b.K=this.ta,this.ta=b):this.da=this.ta=b;b.b=
this};g.prototype.Ca=function(b){b.j?b.K?(b.K.j=b.j,b.j.K=b.K):(b.j.K=null,this.da=b.j):b.K?(b.K.j=null,this.ta=b.K):this.da=this.ta=null;b.b=void 0};g.prototype.bc=function(b){for(var a=this.da;a;a=a.j)if(a.yb(b))return a;return null};g.prototype.wb=function(b){if(!(2>b.w.length)){var a=b.w[b.w.length-1],c=e.Ea;e.va(a,b.w[b.w.length-2],c);e.h(c,20);e.Ha(a,c,c);b.rb(c)}};g.prototype.ca=function(a){a.strokeStyle=d.X.color.active;a.setLineDash([3,9]);a.lineWidth=2;for(var c=this.da;c;c=c.j)if(c.Na()){a.beginPath();
a.moveTo(c.c.x,c.c.y);for(var e=0,g=c.w;e<g.length;e++){var t=g[e];a.lineTo(t.x,t.y)}a.stroke()}b.prototype.ca.call(this,a);this.ea.I(a)};g.prototype.fc=function(b,a){var c=e.Ea;e.va(b.c,a.c,c);return e.ib(c)<(b.a.x+a.a.x)/2};g.prototype.Eb=function(b){var a=Math.min(-b.l,-10);this.l+=a;b.c.y+=b.a.y/2;this.fb(b.c,a);this.Ca(b);this.ra(b);this.Mb()};g.prototype.lc=function(b){this.l+=b.l;this.fb(b.c,b.l);this.Ca(b);this.ra(b)};g.prototype.kc=function(){for(var b=this,a=[],c=0;c<arguments.length;c++)a[c-
0]=arguments[c];a.forEach(function(a){b.Ca(a);b.u.o(a).s({Y:0},2).ma(function(){return a.Hb()}).B()})};g.prototype.mc=function(){var b=this;this.U.rc();this.Db&&this.Db();var a=this.u.o(null);a.B();for(var c=this.da;c;c=c.j)if(1<c.l){var d=this.u.o(c.h).s({x:2,y:2},.3,k.ab.lb).N(c).s({l:c.l/2|0},.5).ma(function(a){var c=Math.round(a.l);b.fb(a.c,c);b.l+=c}).N(c.h).s({x:5,y:5},.35).Fb(c,function(b){return b.s({Y:0},.35)}).N(c).ma(function(a){b.ra(a);b.Ca(a)});a.N(d).ma(function(b){return b.B()});a=
d}a.N().ma(function(){for(var a=b.da;a;a=a.j)if(1>=a.l&&a.b){var c=k.Qa(0,.6);b.u.o(a.h).ia(c).N().s({x:5,y:5},.35).Fb(a,function(b){return b.s({Y:0},.25)}).N(a).ma(function(a){b.ra(a);b.Ca(a)}).B()}b.hb=!0})};g.prototype.Mb=function(){var b=new d.bb.qc(k.Qa(15,this.a.x-15),this.a.y-5,30,30);b.Z=d.X.color.qb;b.D.Set(.5,.5);b.Y=0;b.h.Set(.1,.1);var a=e.Ea;a.y=0;a.x=k.Qa(15,this.a.x-15);e.va(b.c,a,a);e.Pb(a);e.h(a,k.Qa(-80,-60));e.V(a,b.Za);this.u.o(b).s({Y:1},.2).B();this.u.o(b.h).s({x:1,y:1},.2).B();
this.Vb(b);this.aa(b)};g.prototype.fb=function(b,a){var e=new c(b.x,b.y,(0<a?"+":"")+a);e.D.Set(.5,.5);e.Ta(0<a?d.X.color.active:d.X.color.qb);this.aa(e);var h=0<a?2:1;this.u.o(e.h).s({x:h,y:h},.5,k.ab.lb).ia(.3).N(e).s({Y:0},.3).ma(function(){e.Hb()}).B();if(0>b.x||b.x>this.a.x){var g=0<b.x?1:-1;this.u.o(e.c).s({x:b.x-g*e.a.x*h},.2).B()}else g=0<b.y?1:-1,this.u.o(e.c).s({y:b.y-g*e.a.y*h},.2).B()};g.prototype.Ec=function(){this.ea.Ta(d.X.color.qb);this.ea.Y=.5;this.u.o(this.ea.h).s({x:2,y:2},.01).N().s({x:1,
y:1},.4).B()};return g}(k.Ab);d.b=b})(r||(r={}));
(function(d){var e=function(){function a(b,a){this.Wa=b;this.ja=a;this.J=0;this.Ya=[];this.La=0;this.Gb=[];this.Oa=!1}a.prototype.B=function(){var b=this.xb();b.ja&&b.ja.wc(b);if(b.Oa)for(;b;)b.Oa=!1,b.J=0,b=b.j;return this};a.prototype.s=function(b,a,d){void 0===a&&(a=1);void 0===d&&(d=c.hc);this.Ya=[];for(var e in b)this.Ya.push({key:e,start:0,Sb:0,end:b[e]});this.La=a;this.$b=d;return this};a.prototype.ma=function(b){this.Cb=b;return this};a.prototype.N=function(b){void 0===b&&(b=this.Wa);this.j=
b=new a(b,this.ja);b.K=this;return b};a.prototype.Fb=function(b,a){if(this.ja)this.Gb.push({target:b,Fc:a});else throw Error();return this};a.prototype.ia=function(b){return this.N().s({},b)};a.prototype.m=function(b){for(var a=this;a;)if(0===a.J&&a.cc(),a.J+=b,a.J<=a.La){a.Qb(a.J);break}else a.Oa||(a.Qb(a.La),a.Cb&&a.Cb(a.Wa),a.ja&&!a.j&&a.ja.xc(a.xb()),a.Oa=!0),a=a.j};a.prototype.xb=function(){for(var b=this;b.K;)b=b.K;return b};a.prototype.Qb=function(b){for(var a=0,c=this.Ya;a<c.length;a++){var d=
c[a];this.Wa[d.key]=this.$b(b,d.start,d.Sb,this.La)}};a.prototype.cc=function(){for(var b=0,a=this.Ya;b<a.length;b++){var c=a[b];c.start=this.Wa[c.key];c.Sb=c.end-c.start}b=0;for(a=this.Gb;b<a.length;b++)c=a[b],c.Fc(this.ja.o(c.target).B())};return a}();d.Ac=e;var c;(function(a){a.hc=function(a,c,d,e){return d*a/e+c};a.lb=function(a,c,d,e){a/=e;a--;return d*(a*a*a+1)+c}})(c=d.ab||(d.ab={}));e=function(){function a(){this.u=[]}a.prototype.o=function(a){return new d.Ac(a,this)};a.prototype.wc=function(a){this.u.push(a)};
a.prototype.xc=function(a){d.mb(this.u,a)};a.prototype.m=function(a){for(var c=0,d=this.u;c<d.length;c++)d[c].m(a)};return a}();d.Bc=e})(k||(k={}));
var v=function(){function d(d,c){this.f=d;this.Ia=c;this.ic=this.Ba.bind(this);this.f.fa(window,"resize",this.ic)}d.prototype.Ba=function(){var d=this.f.G.width=window.innerWidth,c=this.f.G.height=window.innerHeight;this.Ia(d,c)};return d}(),l=function(){function d(){this.ha=new k.Fa(320,350)}d.prototype.B=function(){var d=this;document.body.style.background=r.X.color.background;this.M=new k.Ab(0,0,this.f.G.width,this.f.G.height);this.M.c.Set(.5,.5);this.b=new r.b(this.ha.x,this.ha.y);this.b.Db=function(){return d.Aa=
new w(d)};this.M.aa(this.b);var c=new k.jc(this.f);c.ob(this.pa,this);c.nb(this.ka,this);c.pb(this.qa,this);c=new k.zc(this.f);c.ob(this.pa,this);c.nb(this.ka,this);c.pb(this.qa,this);this.Aa=new x(this);this.M.aa(this.cb=new n.pc(0,this.b.a.y,this.b.a.x,20,{fillStyle:"rgba(0, 0, 0, 0.5)"}));this.W=new n.Ga(5.5,this.b.a.y+5.5);this.W.Ua(10);this.M.aa(this.W);this.za=new n.Ga(this.b.a.x-5.5,this.b.a.y+5.5);this.za.D.Set(1,0);this.za.Ua(10);this.M.aa(this.za);this.Kb=new v(this.f,this.Ba.bind(this));
this.Kb.Ba()};d.prototype.pa=function(d,c){this.Aa.pa(d,c)};d.prototype.ka=function(d,c){this.Aa.ka(d,c)};d.prototype.qa=function(d,c){this.Aa.qa(d,c)};d.prototype.m=function(d){this.b.m(d);this.Aa.m();this.za.Va("FPS "+(1E3*d).toFixed(1));this.W.Va("SCORE: "+this.b.l)};d.prototype.I=function(d){d.clearRect(0,0,d.canvas.width,d.canvas.height);this.M.I(d)};d.prototype.Ba=function(d,c){var a=Math.min(d/this.ha.x,c/(this.ha.y+20));this.M.a.Set(d/a,c/a);this.M.h.Set(a,a);this.cb.a.y=k.Tb.Yb(c-this.ha.y*
a);this.b.a.y=c/a-this.cb.a.y;this.cb.c.Set(0,this.b.a.y);this.W.c.Set(5.5,this.b.a.y+5.5);this.za.c.Set(this.b.a.x-5.5,this.b.a.y+5.5)};return d}();(function(){function d(){}d.prototype.ka=function(){};d.prototype.pa=function(){};d.prototype.qa=function(){};d.prototype.m=function(){};return d})();
var w=function(){function d(d){this.g=d;this.Ra=new n.Text(this.g.b.a.x/2,this.g.b.a.y/2,"RESTART");this.Ra.D.Set(.5,.5)}d.prototype.ka=function(d,c){this.Ra.yb({x:d,y:c})&&this.g.f.Play("demo")};d.prototype.pa=function(){};d.prototype.qa=function(){};d.prototype.m=function(){this.g.b.hb&&!this.Ra.la&&this.g.M.aa(this.Ra)};return d}(),x=function(){function d(d){this.g=d;this.ya=new k.Fa}d.prototype.ka=function(d,c){this.ya.Set(d,c);if(!this.g.b.hb){var a=this.g.b.bc(this.ya);a&&(a.w=[],this.L=a)}};
d.prototype.qa=function(){this.L?(this.g.b.wb(this.L),this.L=void 0):0>this.g.b.Da&&(this.g.M.ra(this.g.b),this.g.b=new r.b(this.g.ha.x,this.g.ha.y),this.g.M.aa(this.g.b),this.g.Kb.Ba())};d.prototype.pa=function(d,c){this.ya.Set(d,c);this.L||this.ka(d,c);var a=this.g.b.Xa(this.ya);this.L&&(0>a.y||a.y>this.g.b.a.y||0>a.x||a.x>this.g.b.a.y)&&(this.g.b.wb(this.L),this.L=void 0)};d.prototype.m=function(){this.L&&(this.L.la?this.L.rb(this.g.b.Xa(this.ya)):this.L=void 0)};return d}(),y=new k.f("canvas");
y.Wb();y.Play("demo");
